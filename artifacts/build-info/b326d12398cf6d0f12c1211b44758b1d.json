{"id":"b326d12398cf6d0f12c1211b44758b1d","_format":"hh-sol-build-info-1","solcVersion":"0.8.22","solcLongVersion":"0.8.22+commit.4fc1097e","input":{"language":"Solidity","sources":{"contracts/test/CallDelegateCallTest.sol":{"content":"// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.0;\r\n\r\n/**\r\n * @title Call vs DelegateCall 测试合约\r\n * @dev 用于演示 call 和 delegatecall 的区别\r\n */\r\n\r\n// 目标合约 - 包含业务逻辑\r\ncontract CallTestTarget {\r\n    uint256 public value;\r\n    address public sender;\r\n    address public contractAddress;\r\n    \r\n    function updateState(uint256 _value) external {\r\n        value = _value;\r\n        sender = msg.sender;\r\n        contractAddress = address(this);\r\n    }\r\n    \r\n    function reset() external {\r\n        value = 0;\r\n        sender = address(0);\r\n        contractAddress = address(0);\r\n    }\r\n    \r\n    function getCurrentState() external view returns (uint256, address, address) {\r\n        return (value, sender, contractAddress);\r\n    }\r\n}\r\n\r\n// 调用者合约 - 演示两种调用方式\r\ncontract CallTestCaller {\r\n    uint256 public value;\r\n    address public sender;\r\n    address public contractAddress;\r\n    \r\n    // 使用 call 调用目标合约\r\n    function testCall(address target, uint256 _value) external {\r\n        (bool success, ) = target.call(\r\n            abi.encodeWithSignature(\"updateState(uint256)\", _value)\r\n        );\r\n        require(success, \"Call failed\");\r\n    }\r\n    \r\n    // 使用 delegatecall 调用目标合约\r\n    function testDelegateCall(address target, uint256 _value) external {\r\n        (bool success, ) = target.delegatecall(\r\n            abi.encodeWithSignature(\"updateState(uint256)\", _value)\r\n        );\r\n        require(success, \"DelegateCall failed\");\r\n    }\r\n    \r\n    function reset() external {\r\n        value = 0;\r\n        sender = address(0);\r\n        contractAddress = address(0);\r\n    }\r\n    \r\n    function getCurrentState() external view returns (uint256, address, address) {\r\n        return (value, sender, contractAddress);\r\n    }\r\n}\r\n\r\n// 简单代理合约 - 演示代理模式\r\ncontract SimpleProxyDemo {\r\n    address private immutable implementation;\r\n    \r\n    constructor(address _implementation) {\r\n        implementation = _implementation;\r\n    }\r\n    \r\n    // 所有调用都转发到实现合约\r\n    fallback() external payable {\r\n        address impl = implementation;\r\n        \r\n        assembly {\r\n            // 复制 calldata\r\n            calldatacopy(0, 0, calldatasize())\r\n            \r\n            // delegatecall 到实现合约\r\n            let result := delegatecall(gas(), impl, 0, calldatasize(), 0, 0)\r\n            \r\n            // 复制返回数据\r\n            returndatacopy(0, 0, returndatasize())\r\n            \r\n            // 根据结果返回或回滚\r\n            switch result\r\n            case 0 {\r\n                revert(0, returndatasize())\r\n            }\r\n            default {\r\n                return(0, returndatasize())\r\n            }\r\n        }\r\n    }\r\n    \r\n    receive() external payable {}\r\n}\r\n\r\n// 存储冲突演示合约\r\ncontract StorageConflictDemo {\r\n    // 演示存储槽冲突问题\r\n    address public owner;        // slot 0\r\n    uint256 public value1;       // slot 1\r\n    uint256 public value2;       // slot 2\r\n    \r\n    mapping(address => uint256) public balances; // slot 3\r\n    \r\n    function setValues(uint256 _value1, uint256 _value2) external {\r\n        value1 = _value1;\r\n        value2 = _value2;\r\n    }\r\n    \r\n    function setBalance(address account, uint256 amount) external {\r\n        balances[account] = amount;\r\n    }\r\n}\r\n\r\n// EIP-1967 标准存储槽演示\r\ncontract EIP1967Demo {\r\n    // EIP-1967 标准存储槽\r\n    bytes32 internal constant _IMPLEMENTATION_SLOT = 0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc;\r\n    bytes32 internal constant _ADMIN_SLOT = 0xb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103;\r\n    \r\n    // 常规存储变量\r\n    uint256 public regularValue1;    // slot 0\r\n    uint256 public regularValue2;    // slot 1\r\n    address public regularAddress;   // slot 2\r\n    \r\n    function setImplementation(address newImplementation) external {\r\n        assembly {\r\n            sstore(_IMPLEMENTATION_SLOT, newImplementation)\r\n        }\r\n    }\r\n    \r\n    function getImplementation() external view returns (address) {\r\n        assembly {\r\n            let impl := sload(_IMPLEMENTATION_SLOT)\r\n            mstore(0x00, impl)\r\n            return(0x00, 0x20)\r\n        }\r\n    }\r\n    \r\n    function setAdmin(address newAdmin) external {\r\n        assembly {\r\n            sstore(_ADMIN_SLOT, newAdmin)\r\n        }\r\n    }\r\n    \r\n    function getAdmin() external view returns (address) {\r\n        assembly {\r\n            let admin := sload(_ADMIN_SLOT)\r\n            mstore(0x00, admin)\r\n            return(0x00, 0x20)\r\n        }\r\n    }\r\n}\r\n\r\n// 初始化器模式演示\r\ncontract InitializerDemo {\r\n    bool private initialized;\r\n    address public owner;\r\n    uint256 public value;\r\n    \r\n    modifier initializer() {\r\n        require(!initialized, \"Already initialized\");\r\n        _;\r\n        initialized = true;\r\n    }\r\n    \r\n    // ❌ 错误：使用构造函数（在代理模式中不工作）\r\n    // constructor(address _owner, uint256 _value) {\r\n    //     owner = _owner;\r\n    //     value = _value;\r\n    // }\r\n    \r\n    // ✅ 正确：使用初始化函数\r\n    function initialize(address _owner, uint256 _value) external initializer {\r\n        owner = _owner;\r\n        value = _value;\r\n    }\r\n    \r\n    function setValue(uint256 _value) external {\r\n        require(msg.sender == owner, \"Only owner\");\r\n        value = _value;\r\n    }\r\n}"}},"settings":{"optimizer":{"enabled":true,"runs":200},"viaIR":true,"evmVersion":"paris","outputSelection":{"*":{"*":["abi","evm.bytecode","evm.deployedBytecode","evm.methodIdentifiers","metadata","storageLayout","devdoc","userdoc","evm.gasEstimates"],"":["ast"]}},"metadata":{"useLiteralContent":true}}},"output":{"sources":{"contracts/test/CallDelegateCallTest.sol":{"ast":{"absolutePath":"contracts/test/CallDelegateCallTest.sol","exportedSymbols":{"CallTestCaller":[160],"CallTestTarget":[68],"EIP1967Demo":[268],"InitializerDemo":[325],"SimpleProxyDemo":[186],"StorageConflictDemo":[227]},"id":326,"license":"MIT","nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity","^","0.8",".0"],"nodeType":"PragmaDirective","src":"33:23:0"},{"abstract":false,"baseContracts":[],"canonicalName":"CallTestTarget","contractDependencies":[],"contractKind":"contract","documentation":{"id":2,"nodeType":"StructuredDocumentation","src":"60:107:0","text":" @title Call vs DelegateCall 测试合约\n @dev 用于演示 call 和 delegatecall 的区别"},"fullyImplemented":true,"id":68,"linearizedBaseContracts":[68],"name":"CallTestTarget","nameLocation":"218:14:0","nodeType":"ContractDefinition","nodes":[{"constant":false,"functionSelector":"3fa4f245","id":4,"mutability":"mutable","name":"value","nameLocation":"255:5:0","nodeType":"VariableDeclaration","scope":68,"src":"240:20:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3,"name":"uint256","nodeType":"ElementaryTypeName","src":"240:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"constant":false,"functionSelector":"67e404ce","id":6,"mutability":"mutable","name":"sender","nameLocation":"282:6:0","nodeType":"VariableDeclaration","scope":68,"src":"267:21:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":5,"name":"address","nodeType":"ElementaryTypeName","src":"267:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"constant":false,"functionSelector":"f6b4dfb4","id":8,"mutability":"mutable","name":"contractAddress","nameLocation":"310:15:0","nodeType":"VariableDeclaration","scope":68,"src":"295:30:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":7,"name":"address","nodeType":"ElementaryTypeName","src":"295:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"body":{"id":29,"nodeType":"Block","src":"384:105:0","statements":[{"expression":{"id":15,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":13,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4,"src":"395:5:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":14,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10,"src":"403:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"395:14:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16,"nodeType":"ExpressionStatement","src":"395:14:0"},{"expression":{"id":20,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6,"src":"420:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":18,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"429:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":19,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"433:6:0","memberName":"sender","nodeType":"MemberAccess","src":"429:10:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"420:19:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":21,"nodeType":"ExpressionStatement","src":"420:19:0"},{"expression":{"id":27,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":22,"name":"contractAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8,"src":"450:15:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":25,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"476:4:0","typeDescriptions":{"typeIdentifier":"t_contract$_CallTestTarget_$68","typeString":"contract CallTestTarget"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_CallTestTarget_$68","typeString":"contract CallTestTarget"}],"id":24,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"468:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":23,"name":"address","nodeType":"ElementaryTypeName","src":"468:7:0","typeDescriptions":{}}},"id":26,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"468:13:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"450:31:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":28,"nodeType":"ExpressionStatement","src":"450:31:0"}]},"functionSelector":"cc8a55e2","id":30,"implemented":true,"kind":"function","modifiers":[],"name":"updateState","nameLocation":"347:11:0","nodeType":"FunctionDefinition","parameters":{"id":11,"nodeType":"ParameterList","parameters":[{"constant":false,"id":10,"mutability":"mutable","name":"_value","nameLocation":"367:6:0","nodeType":"VariableDeclaration","scope":30,"src":"359:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":9,"name":"uint256","nodeType":"ElementaryTypeName","src":"359:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"358:16:0"},"returnParameters":{"id":12,"nodeType":"ParameterList","parameters":[],"src":"384:0:0"},"scope":68,"src":"338:151:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"body":{"id":51,"nodeType":"Block","src":"527:97:0","statements":[{"expression":{"id":35,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":33,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4,"src":"538:5:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":34,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"546:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"538:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36,"nodeType":"ExpressionStatement","src":"538:9:0"},{"expression":{"id":42,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":37,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6,"src":"558:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"hexValue":"30","id":40,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"575:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":39,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"567:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":38,"name":"address","nodeType":"ElementaryTypeName","src":"567:7:0","typeDescriptions":{}}},"id":41,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"567:10:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"558:19:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":43,"nodeType":"ExpressionStatement","src":"558:19:0"},{"expression":{"id":49,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":44,"name":"contractAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8,"src":"588:15:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"hexValue":"30","id":47,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"614:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":46,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"606:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":45,"name":"address","nodeType":"ElementaryTypeName","src":"606:7:0","typeDescriptions":{}}},"id":48,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"606:10:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"588:28:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":50,"nodeType":"ExpressionStatement","src":"588:28:0"}]},"functionSelector":"d826f88f","id":52,"implemented":true,"kind":"function","modifiers":[],"name":"reset","nameLocation":"510:5:0","nodeType":"FunctionDefinition","parameters":{"id":31,"nodeType":"ParameterList","parameters":[],"src":"515:2:0"},"returnParameters":{"id":32,"nodeType":"ParameterList","parameters":[],"src":"527:0:0"},"scope":68,"src":"501:123:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"body":{"id":66,"nodeType":"Block","src":"713:58:0","statements":[{"expression":{"components":[{"id":61,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4,"src":"732:5:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":62,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6,"src":"739:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":63,"name":"contractAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8,"src":"747:15:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"id":64,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"731:32:0","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_address_$_t_address_$","typeString":"tuple(uint256,address,address)"}},"functionReturnParameters":60,"id":65,"nodeType":"Return","src":"724:39:0"}]},"functionSelector":"378aa701","id":67,"implemented":true,"kind":"function","modifiers":[],"name":"getCurrentState","nameLocation":"645:15:0","nodeType":"FunctionDefinition","parameters":{"id":53,"nodeType":"ParameterList","parameters":[],"src":"660:2:0"},"returnParameters":{"id":60,"nodeType":"ParameterList","parameters":[{"constant":false,"id":55,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":67,"src":"686:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":54,"name":"uint256","nodeType":"ElementaryTypeName","src":"686:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":57,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":67,"src":"695:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":56,"name":"address","nodeType":"ElementaryTypeName","src":"695:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":59,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":67,"src":"704:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":58,"name":"address","nodeType":"ElementaryTypeName","src":"704:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"685:27:0"},"scope":68,"src":"636:135:0","stateMutability":"view","virtual":false,"visibility":"external"}],"scope":326,"src":"209:565:0","usedErrors":[],"usedEvents":[]},{"abstract":false,"baseContracts":[],"canonicalName":"CallTestCaller","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"id":160,"linearizedBaseContracts":[160],"name":"CallTestCaller","nameLocation":"834:14:0","nodeType":"ContractDefinition","nodes":[{"constant":false,"functionSelector":"3fa4f245","id":70,"mutability":"mutable","name":"value","nameLocation":"871:5:0","nodeType":"VariableDeclaration","scope":160,"src":"856:20:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":69,"name":"uint256","nodeType":"ElementaryTypeName","src":"856:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"constant":false,"functionSelector":"67e404ce","id":72,"mutability":"mutable","name":"sender","nameLocation":"898:6:0","nodeType":"VariableDeclaration","scope":160,"src":"883:21:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":71,"name":"address","nodeType":"ElementaryTypeName","src":"883:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"constant":false,"functionSelector":"f6b4dfb4","id":74,"mutability":"mutable","name":"contractAddress","nameLocation":"926:15:0","nodeType":"VariableDeclaration","scope":160,"src":"911:30:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":73,"name":"address","nodeType":"ElementaryTypeName","src":"911:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"body":{"id":97,"nodeType":"Block","src":"1052:172:0","statements":[{"assignments":[82,null],"declarations":[{"constant":false,"id":82,"mutability":"mutable","name":"success","nameLocation":"1069:7:0","nodeType":"VariableDeclaration","scope":97,"src":"1064:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":81,"name":"bool","nodeType":"ElementaryTypeName","src":"1064:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},null],"id":91,"initialValue":{"arguments":[{"arguments":[{"hexValue":"75706461746553746174652875696e7432353629","id":87,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1132:22:0","typeDescriptions":{"typeIdentifier":"t_stringliteral_cc8a55e2f0d6797c95dc63602be8ee088ba6bd865f374fe8efba3e268cb19049","typeString":"literal_string \"updateState(uint256)\""},"value":"updateState(uint256)"},{"id":88,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":78,"src":"1156:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_cc8a55e2f0d6797c95dc63602be8ee088ba6bd865f374fe8efba3e268cb19049","typeString":"literal_string \"updateState(uint256)\""},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":85,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"1108:3:0","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":86,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1112:19:0","memberName":"encodeWithSignature","nodeType":"MemberAccess","src":"1108:23:0","typeDescriptions":{"typeIdentifier":"t_function_abiencodewithsignature_pure$_t_string_memory_ptr_$returns$_t_bytes_memory_ptr_$","typeString":"function (string memory) pure returns (bytes memory)"}},"id":89,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1108:55:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":83,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":76,"src":"1082:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":84,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1089:4:0","memberName":"call","nodeType":"MemberAccess","src":"1082:11:0","typeDescriptions":{"typeIdentifier":"t_function_barecall_payable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) payable returns (bool,bytes memory)"}},"id":90,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1082:92:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"1063:111:0"},{"expression":{"arguments":[{"id":93,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":82,"src":"1193:7:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"43616c6c206661696c6564","id":94,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1202:13:0","typeDescriptions":{"typeIdentifier":"t_stringliteral_066ad49a0ed9e5d6a9f3c20fca13a038f0a5d629f0aaf09d634ae2a7c232ac2b","typeString":"literal_string \"Call failed\""},"value":"Call failed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_066ad49a0ed9e5d6a9f3c20fca13a038f0a5d629f0aaf09d634ae2a7c232ac2b","typeString":"literal_string \"Call failed\""}],"id":92,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"1185:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":95,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1185:31:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":96,"nodeType":"ExpressionStatement","src":"1185:31:0"}]},"functionSelector":"59c75ada","id":98,"implemented":true,"kind":"function","modifiers":[],"name":"testCall","nameLocation":"1002:8:0","nodeType":"FunctionDefinition","parameters":{"id":79,"nodeType":"ParameterList","parameters":[{"constant":false,"id":76,"mutability":"mutable","name":"target","nameLocation":"1019:6:0","nodeType":"VariableDeclaration","scope":98,"src":"1011:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":75,"name":"address","nodeType":"ElementaryTypeName","src":"1011:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":78,"mutability":"mutable","name":"_value","nameLocation":"1035:6:0","nodeType":"VariableDeclaration","scope":98,"src":"1027:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":77,"name":"uint256","nodeType":"ElementaryTypeName","src":"1027:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1010:32:0"},"returnParameters":{"id":80,"nodeType":"ParameterList","parameters":[],"src":"1052:0:0"},"scope":160,"src":"993:231:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"body":{"id":121,"nodeType":"Block","src":"1350:188:0","statements":[{"assignments":[106,null],"declarations":[{"constant":false,"id":106,"mutability":"mutable","name":"success","nameLocation":"1367:7:0","nodeType":"VariableDeclaration","scope":121,"src":"1362:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":105,"name":"bool","nodeType":"ElementaryTypeName","src":"1362:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},null],"id":115,"initialValue":{"arguments":[{"arguments":[{"hexValue":"75706461746553746174652875696e7432353629","id":111,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1438:22:0","typeDescriptions":{"typeIdentifier":"t_stringliteral_cc8a55e2f0d6797c95dc63602be8ee088ba6bd865f374fe8efba3e268cb19049","typeString":"literal_string \"updateState(uint256)\""},"value":"updateState(uint256)"},{"id":112,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":102,"src":"1462:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_cc8a55e2f0d6797c95dc63602be8ee088ba6bd865f374fe8efba3e268cb19049","typeString":"literal_string \"updateState(uint256)\""},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":109,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"1414:3:0","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":110,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1418:19:0","memberName":"encodeWithSignature","nodeType":"MemberAccess","src":"1414:23:0","typeDescriptions":{"typeIdentifier":"t_function_abiencodewithsignature_pure$_t_string_memory_ptr_$returns$_t_bytes_memory_ptr_$","typeString":"function (string memory) pure returns (bytes memory)"}},"id":113,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1414:55:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":107,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":100,"src":"1380:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":108,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1387:12:0","memberName":"delegatecall","nodeType":"MemberAccess","src":"1380:19:0","typeDescriptions":{"typeIdentifier":"t_function_baredelegatecall_nonpayable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) returns (bool,bytes memory)"}},"id":114,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1380:100:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"1361:119:0"},{"expression":{"arguments":[{"id":117,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":106,"src":"1499:7:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"44656c656761746543616c6c206661696c6564","id":118,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1508:21:0","typeDescriptions":{"typeIdentifier":"t_stringliteral_9c37bb6edd0e6ffc496c3ee7a1bad536ae47f6a485e4f28a99778cf3f9745819","typeString":"literal_string \"DelegateCall failed\""},"value":"DelegateCall failed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_9c37bb6edd0e6ffc496c3ee7a1bad536ae47f6a485e4f28a99778cf3f9745819","typeString":"literal_string \"DelegateCall failed\""}],"id":116,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"1491:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":119,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1491:39:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":120,"nodeType":"ExpressionStatement","src":"1491:39:0"}]},"functionSelector":"c3ffae73","id":122,"implemented":true,"kind":"function","modifiers":[],"name":"testDelegateCall","nameLocation":"1292:16:0","nodeType":"FunctionDefinition","parameters":{"id":103,"nodeType":"ParameterList","parameters":[{"constant":false,"id":100,"mutability":"mutable","name":"target","nameLocation":"1317:6:0","nodeType":"VariableDeclaration","scope":122,"src":"1309:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":99,"name":"address","nodeType":"ElementaryTypeName","src":"1309:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":102,"mutability":"mutable","name":"_value","nameLocation":"1333:6:0","nodeType":"VariableDeclaration","scope":122,"src":"1325:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":101,"name":"uint256","nodeType":"ElementaryTypeName","src":"1325:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1308:32:0"},"returnParameters":{"id":104,"nodeType":"ParameterList","parameters":[],"src":"1350:0:0"},"scope":160,"src":"1283:255:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"body":{"id":143,"nodeType":"Block","src":"1576:97:0","statements":[{"expression":{"id":127,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":125,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70,"src":"1587:5:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":126,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1595:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1587:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":128,"nodeType":"ExpressionStatement","src":"1587:9:0"},{"expression":{"id":134,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":129,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72,"src":"1607:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"hexValue":"30","id":132,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1624:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":131,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1616:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":130,"name":"address","nodeType":"ElementaryTypeName","src":"1616:7:0","typeDescriptions":{}}},"id":133,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1616:10:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1607:19:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":135,"nodeType":"ExpressionStatement","src":"1607:19:0"},{"expression":{"id":141,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":136,"name":"contractAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74,"src":"1637:15:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"hexValue":"30","id":139,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1663:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":138,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1655:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":137,"name":"address","nodeType":"ElementaryTypeName","src":"1655:7:0","typeDescriptions":{}}},"id":140,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1655:10:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1637:28:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":142,"nodeType":"ExpressionStatement","src":"1637:28:0"}]},"functionSelector":"d826f88f","id":144,"implemented":true,"kind":"function","modifiers":[],"name":"reset","nameLocation":"1559:5:0","nodeType":"FunctionDefinition","parameters":{"id":123,"nodeType":"ParameterList","parameters":[],"src":"1564:2:0"},"returnParameters":{"id":124,"nodeType":"ParameterList","parameters":[],"src":"1576:0:0"},"scope":160,"src":"1550:123:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"body":{"id":158,"nodeType":"Block","src":"1762:58:0","statements":[{"expression":{"components":[{"id":153,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70,"src":"1781:5:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":154,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72,"src":"1788:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":155,"name":"contractAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74,"src":"1796:15:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"id":156,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1780:32:0","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_address_$_t_address_$","typeString":"tuple(uint256,address,address)"}},"functionReturnParameters":152,"id":157,"nodeType":"Return","src":"1773:39:0"}]},"functionSelector":"378aa701","id":159,"implemented":true,"kind":"function","modifiers":[],"name":"getCurrentState","nameLocation":"1694:15:0","nodeType":"FunctionDefinition","parameters":{"id":145,"nodeType":"ParameterList","parameters":[],"src":"1709:2:0"},"returnParameters":{"id":152,"nodeType":"ParameterList","parameters":[{"constant":false,"id":147,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":159,"src":"1735:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":146,"name":"uint256","nodeType":"ElementaryTypeName","src":"1735:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":149,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":159,"src":"1744:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":148,"name":"address","nodeType":"ElementaryTypeName","src":"1744:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":151,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":159,"src":"1753:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":150,"name":"address","nodeType":"ElementaryTypeName","src":"1753:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1734:27:0"},"scope":160,"src":"1685:135:0","stateMutability":"view","virtual":false,"visibility":"external"}],"scope":326,"src":"825:998:0","usedErrors":[],"usedEvents":[]},{"abstract":false,"baseContracts":[],"canonicalName":"SimpleProxyDemo","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"id":186,"linearizedBaseContracts":[186],"name":"SimpleProxyDemo","nameLocation":"1880:15:0","nodeType":"ContractDefinition","nodes":[{"constant":false,"id":162,"mutability":"immutable","name":"implementation","nameLocation":"1929:14:0","nodeType":"VariableDeclaration","scope":186,"src":"1903:40:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":161,"name":"address","nodeType":"ElementaryTypeName","src":"1903:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"private"},{"body":{"id":171,"nodeType":"Block","src":"1993:51:0","statements":[{"expression":{"id":169,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":167,"name":"implementation","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":162,"src":"2004:14:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":168,"name":"_implementation","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":164,"src":"2021:15:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2004:32:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":170,"nodeType":"ExpressionStatement","src":"2004:32:0"}]},"id":172,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","nodeType":"FunctionDefinition","parameters":{"id":165,"nodeType":"ParameterList","parameters":[{"constant":false,"id":164,"mutability":"mutable","name":"_implementation","nameLocation":"1976:15:0","nodeType":"VariableDeclaration","scope":172,"src":"1968:23:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":163,"name":"address","nodeType":"ElementaryTypeName","src":"1968:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1967:25:0"},"returnParameters":{"id":166,"nodeType":"ParameterList","parameters":[],"src":"1993:0:0"},"scope":186,"src":"1956:88:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"body":{"id":180,"nodeType":"Block","src":"2129:657:0","statements":[{"assignments":[176],"declarations":[{"constant":false,"id":176,"mutability":"mutable","name":"impl","nameLocation":"2148:4:0","nodeType":"VariableDeclaration","scope":180,"src":"2140:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":175,"name":"address","nodeType":"ElementaryTypeName","src":"2140:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":178,"initialValue":{"id":177,"name":"implementation","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":162,"src":"2155:14:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"2140:29:0"},{"AST":{"nativeSrc":"2199:580:0","nodeType":"YulBlock","src":"2199:580:0","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"2259:1:0","nodeType":"YulLiteral","src":"2259:1:0","type":"","value":"0"},{"kind":"number","nativeSrc":"2262:1:0","nodeType":"YulLiteral","src":"2262:1:0","type":"","value":"0"},{"arguments":[],"functionName":{"name":"calldatasize","nativeSrc":"2265:12:0","nodeType":"YulIdentifier","src":"2265:12:0"},"nativeSrc":"2265:14:0","nodeType":"YulFunctionCall","src":"2265:14:0"}],"functionName":{"name":"calldatacopy","nativeSrc":"2246:12:0","nodeType":"YulIdentifier","src":"2246:12:0"},"nativeSrc":"2246:34:0","nodeType":"YulFunctionCall","src":"2246:34:0"},"nativeSrc":"2246:34:0","nodeType":"YulExpressionStatement","src":"2246:34:0"},{"nativeSrc":"2353:64:0","nodeType":"YulVariableDeclaration","src":"2353:64:0","value":{"arguments":[{"arguments":[],"functionName":{"name":"gas","nativeSrc":"2380:3:0","nodeType":"YulIdentifier","src":"2380:3:0"},"nativeSrc":"2380:5:0","nodeType":"YulFunctionCall","src":"2380:5:0"},{"name":"impl","nativeSrc":"2387:4:0","nodeType":"YulIdentifier","src":"2387:4:0"},{"kind":"number","nativeSrc":"2393:1:0","nodeType":"YulLiteral","src":"2393:1:0","type":"","value":"0"},{"arguments":[],"functionName":{"name":"calldatasize","nativeSrc":"2396:12:0","nodeType":"YulIdentifier","src":"2396:12:0"},"nativeSrc":"2396:14:0","nodeType":"YulFunctionCall","src":"2396:14:0"},{"kind":"number","nativeSrc":"2412:1:0","nodeType":"YulLiteral","src":"2412:1:0","type":"","value":"0"},{"kind":"number","nativeSrc":"2415:1:0","nodeType":"YulLiteral","src":"2415:1:0","type":"","value":"0"}],"functionName":{"name":"delegatecall","nativeSrc":"2367:12:0","nodeType":"YulIdentifier","src":"2367:12:0"},"nativeSrc":"2367:50:0","nodeType":"YulFunctionCall","src":"2367:50:0"},"variables":[{"name":"result","nativeSrc":"2357:6:0","nodeType":"YulTypedName","src":"2357:6:0","type":""}]},{"expression":{"arguments":[{"kind":"number","nativeSrc":"2495:1:0","nodeType":"YulLiteral","src":"2495:1:0","type":"","value":"0"},{"kind":"number","nativeSrc":"2498:1:0","nodeType":"YulLiteral","src":"2498:1:0","type":"","value":"0"},{"arguments":[],"functionName":{"name":"returndatasize","nativeSrc":"2501:14:0","nodeType":"YulIdentifier","src":"2501:14:0"},"nativeSrc":"2501:16:0","nodeType":"YulFunctionCall","src":"2501:16:0"}],"functionName":{"name":"returndatacopy","nativeSrc":"2480:14:0","nodeType":"YulIdentifier","src":"2480:14:0"},"nativeSrc":"2480:38:0","nodeType":"YulFunctionCall","src":"2480:38:0"},"nativeSrc":"2480:38:0","nodeType":"YulExpressionStatement","src":"2480:38:0"},{"cases":[{"body":{"nativeSrc":"2624:61:0","nodeType":"YulBlock","src":"2624:61:0","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"2650:1:0","nodeType":"YulLiteral","src":"2650:1:0","type":"","value":"0"},{"arguments":[],"functionName":{"name":"returndatasize","nativeSrc":"2653:14:0","nodeType":"YulIdentifier","src":"2653:14:0"},"nativeSrc":"2653:16:0","nodeType":"YulFunctionCall","src":"2653:16:0"}],"functionName":{"name":"revert","nativeSrc":"2643:6:0","nodeType":"YulIdentifier","src":"2643:6:0"},"nativeSrc":"2643:27:0","nodeType":"YulFunctionCall","src":"2643:27:0"},"nativeSrc":"2643:27:0","nodeType":"YulExpressionStatement","src":"2643:27:0"}]},"nativeSrc":"2617:68:0","nodeType":"YulCase","src":"2617:68:0","value":{"kind":"number","nativeSrc":"2622:1:0","nodeType":"YulLiteral","src":"2622:1:0","type":"","value":"0"}},{"body":{"nativeSrc":"2707:61:0","nodeType":"YulBlock","src":"2707:61:0","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"2733:1:0","nodeType":"YulLiteral","src":"2733:1:0","type":"","value":"0"},{"arguments":[],"functionName":{"name":"returndatasize","nativeSrc":"2736:14:0","nodeType":"YulIdentifier","src":"2736:14:0"},"nativeSrc":"2736:16:0","nodeType":"YulFunctionCall","src":"2736:16:0"}],"functionName":{"name":"return","nativeSrc":"2726:6:0","nodeType":"YulIdentifier","src":"2726:6:0"},"nativeSrc":"2726:27:0","nodeType":"YulFunctionCall","src":"2726:27:0"},"nativeSrc":"2726:27:0","nodeType":"YulExpressionStatement","src":"2726:27:0"}]},"nativeSrc":"2699:69:0","nodeType":"YulCase","src":"2699:69:0","value":"default"}],"expression":{"name":"result","nativeSrc":"2597:6:0","nodeType":"YulIdentifier","src":"2597:6:0"},"nativeSrc":"2590:178:0","nodeType":"YulSwitch","src":"2590:178:0"}]},"evmVersion":"paris","externalReferences":[{"declaration":176,"isOffset":false,"isSlot":false,"src":"2387:4:0","valueSize":1}],"id":179,"nodeType":"InlineAssembly","src":"2190:589:0"}]},"id":181,"implemented":true,"kind":"fallback","modifiers":[],"name":"","nameLocation":"-1:-1:-1","nodeType":"FunctionDefinition","parameters":{"id":173,"nodeType":"ParameterList","parameters":[],"src":"2109:2:0"},"returnParameters":{"id":174,"nodeType":"ParameterList","parameters":[],"src":"2129:0:0"},"scope":186,"src":"2101:685:0","stateMutability":"payable","virtual":false,"visibility":"external"},{"body":{"id":184,"nodeType":"Block","src":"2825:2:0","statements":[]},"id":185,"implemented":true,"kind":"receive","modifiers":[],"name":"","nameLocation":"-1:-1:-1","nodeType":"FunctionDefinition","parameters":{"id":182,"nodeType":"ParameterList","parameters":[],"src":"2805:2:0"},"returnParameters":{"id":183,"nodeType":"ParameterList","parameters":[],"src":"2825:0:0"},"scope":186,"src":"2798:29:0","stateMutability":"payable","virtual":false,"visibility":"external"}],"scope":326,"src":"1871:959:0","usedErrors":[],"usedEvents":[]},{"abstract":false,"baseContracts":[],"canonicalName":"StorageConflictDemo","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"id":227,"linearizedBaseContracts":[227],"name":"StorageConflictDemo","nameLocation":"2872:19:0","nodeType":"ContractDefinition","nodes":[{"constant":false,"functionSelector":"8da5cb5b","id":188,"mutability":"mutable","name":"owner","nameLocation":"2950:5:0","nodeType":"VariableDeclaration","scope":227,"src":"2935:20:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":187,"name":"address","nodeType":"ElementaryTypeName","src":"2935:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"constant":false,"functionSelector":"3033413b","id":190,"mutability":"mutable","name":"value1","nameLocation":"2994:6:0","nodeType":"VariableDeclaration","scope":227,"src":"2979:21:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":189,"name":"uint256","nodeType":"ElementaryTypeName","src":"2979:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"constant":false,"functionSelector":"5d33a27f","id":192,"mutability":"mutable","name":"value2","nameLocation":"3038:6:0","nodeType":"VariableDeclaration","scope":227,"src":"3023:21:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":191,"name":"uint256","nodeType":"ElementaryTypeName","src":"3023:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"constant":false,"functionSelector":"27e235e3","id":196,"mutability":"mutable","name":"balances","nameLocation":"3108:8:0","nodeType":"VariableDeclaration","scope":227,"src":"3073:43:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"typeName":{"id":195,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":193,"name":"address","nodeType":"ElementaryTypeName","src":"3081:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"3073:27:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":194,"name":"uint256","nodeType":"ElementaryTypeName","src":"3092:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"public"},{"body":{"id":211,"nodeType":"Block","src":"3201:62:0","statements":[{"expression":{"id":205,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":203,"name":"value1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":190,"src":"3212:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":204,"name":"_value1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":198,"src":"3221:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3212:16:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":206,"nodeType":"ExpressionStatement","src":"3212:16:0"},{"expression":{"id":209,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":207,"name":"value2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":192,"src":"3239:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":208,"name":"_value2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":200,"src":"3248:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3239:16:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":210,"nodeType":"ExpressionStatement","src":"3239:16:0"}]},"functionSelector":"9c3dfaf6","id":212,"implemented":true,"kind":"function","modifiers":[],"name":"setValues","nameLocation":"3148:9:0","nodeType":"FunctionDefinition","parameters":{"id":201,"nodeType":"ParameterList","parameters":[{"constant":false,"id":198,"mutability":"mutable","name":"_value1","nameLocation":"3166:7:0","nodeType":"VariableDeclaration","scope":212,"src":"3158:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":197,"name":"uint256","nodeType":"ElementaryTypeName","src":"3158:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":200,"mutability":"mutable","name":"_value2","nameLocation":"3183:7:0","nodeType":"VariableDeclaration","scope":212,"src":"3175:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":199,"name":"uint256","nodeType":"ElementaryTypeName","src":"3175:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3157:34:0"},"returnParameters":{"id":202,"nodeType":"ParameterList","parameters":[],"src":"3201:0:0"},"scope":227,"src":"3139:124:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"body":{"id":225,"nodeType":"Block","src":"3337:45:0","statements":[{"expression":{"id":223,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":219,"name":"balances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":196,"src":"3348:8:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":221,"indexExpression":{"id":220,"name":"account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":214,"src":"3357:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3348:17:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":222,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":216,"src":"3368:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3348:26:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":224,"nodeType":"ExpressionStatement","src":"3348:26:0"}]},"functionSelector":"e30443bc","id":226,"implemented":true,"kind":"function","modifiers":[],"name":"setBalance","nameLocation":"3284:10:0","nodeType":"FunctionDefinition","parameters":{"id":217,"nodeType":"ParameterList","parameters":[{"constant":false,"id":214,"mutability":"mutable","name":"account","nameLocation":"3303:7:0","nodeType":"VariableDeclaration","scope":226,"src":"3295:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":213,"name":"address","nodeType":"ElementaryTypeName","src":"3295:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":216,"mutability":"mutable","name":"amount","nameLocation":"3320:6:0","nodeType":"VariableDeclaration","scope":226,"src":"3312:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":215,"name":"uint256","nodeType":"ElementaryTypeName","src":"3312:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3294:33:0"},"returnParameters":{"id":218,"nodeType":"ParameterList","parameters":[],"src":"3337:0:0"},"scope":227,"src":"3275:107:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"scope":326,"src":"2863:522:0","usedErrors":[],"usedEvents":[]},{"abstract":false,"baseContracts":[],"canonicalName":"EIP1967Demo","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"id":268,"linearizedBaseContracts":[268],"name":"EIP1967Demo","nameLocation":"3433:11:0","nodeType":"ContractDefinition","nodes":[{"constant":true,"id":230,"mutability":"constant","name":"_IMPLEMENTATION_SLOT","nameLocation":"3511:20:0","nodeType":"VariableDeclaration","scope":268,"src":"3485:115:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":228,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3485:7:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307833363038393461313362613161333231303636376338323834393264623938646361336532303736636333373335613932306133636135303564333832626263","id":229,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3534:66:0","typeDescriptions":{"typeIdentifier":"t_rational_24440054405305269366569402256811496959409073762505157381672968839269610695612_by_1","typeString":"int_const 2444...(69 digits omitted)...5612"},"value":"0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc"},"visibility":"internal"},{"constant":true,"id":233,"mutability":"constant","name":"_ADMIN_SLOT","nameLocation":"3633:11:0","nodeType":"VariableDeclaration","scope":268,"src":"3607:106:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":231,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3607:7:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307862353331323736383461353638623331373361653133623966386136303136653234336536336236653865653131373864366137313738353062356436313033","id":232,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3647:66:0","typeDescriptions":{"typeIdentifier":"t_rational_81955473079516046949633743016697847541294818689821282749996681496272635257091_by_1","typeString":"int_const 8195...(69 digits omitted)...7091"},"value":"0xb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103"},"visibility":"internal"},{"constant":false,"functionSelector":"502ac240","id":235,"mutability":"mutable","name":"regularValue1","nameLocation":"3768:13:0","nodeType":"VariableDeclaration","scope":268,"src":"3753:28:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":234,"name":"uint256","nodeType":"ElementaryTypeName","src":"3753:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"constant":false,"functionSelector":"cbe50673","id":237,"mutability":"mutable","name":"regularValue2","nameLocation":"3816:13:0","nodeType":"VariableDeclaration","scope":268,"src":"3801:28:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":236,"name":"uint256","nodeType":"ElementaryTypeName","src":"3801:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"constant":false,"functionSelector":"c1dd2c10","id":239,"mutability":"mutable","name":"regularAddress","nameLocation":"3864:14:0","nodeType":"VariableDeclaration","scope":268,"src":"3849:29:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":238,"name":"address","nodeType":"ElementaryTypeName","src":"3849:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"body":{"id":245,"nodeType":"Block","src":"3966:100:0","statements":[{"AST":{"nativeSrc":"3986:73:0","nodeType":"YulBlock","src":"3986:73:0","statements":[{"expression":{"arguments":[{"name":"_IMPLEMENTATION_SLOT","nativeSrc":"4008:20:0","nodeType":"YulIdentifier","src":"4008:20:0"},{"name":"newImplementation","nativeSrc":"4030:17:0","nodeType":"YulIdentifier","src":"4030:17:0"}],"functionName":{"name":"sstore","nativeSrc":"4001:6:0","nodeType":"YulIdentifier","src":"4001:6:0"},"nativeSrc":"4001:47:0","nodeType":"YulFunctionCall","src":"4001:47:0"},"nativeSrc":"4001:47:0","nodeType":"YulExpressionStatement","src":"4001:47:0"}]},"evmVersion":"paris","externalReferences":[{"declaration":230,"isOffset":false,"isSlot":false,"src":"4008:20:0","valueSize":1},{"declaration":241,"isOffset":false,"isSlot":false,"src":"4030:17:0","valueSize":1}],"id":244,"nodeType":"InlineAssembly","src":"3977:82:0"}]},"functionSelector":"d784d426","id":246,"implemented":true,"kind":"function","modifiers":[],"name":"setImplementation","nameLocation":"3912:17:0","nodeType":"FunctionDefinition","parameters":{"id":242,"nodeType":"ParameterList","parameters":[{"constant":false,"id":241,"mutability":"mutable","name":"newImplementation","nameLocation":"3938:17:0","nodeType":"VariableDeclaration","scope":246,"src":"3930:25:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":240,"name":"address","nodeType":"ElementaryTypeName","src":"3930:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3929:27:0"},"returnParameters":{"id":243,"nodeType":"ParameterList","parameters":[],"src":"3966:0:0"},"scope":268,"src":"3903:163:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"body":{"id":252,"nodeType":"Block","src":"4139:156:0","statements":[{"AST":{"nativeSrc":"4159:129:0","nodeType":"YulBlock","src":"4159:129:0","statements":[{"nativeSrc":"4174:39:0","nodeType":"YulVariableDeclaration","src":"4174:39:0","value":{"arguments":[{"name":"_IMPLEMENTATION_SLOT","nativeSrc":"4192:20:0","nodeType":"YulIdentifier","src":"4192:20:0"}],"functionName":{"name":"sload","nativeSrc":"4186:5:0","nodeType":"YulIdentifier","src":"4186:5:0"},"nativeSrc":"4186:27:0","nodeType":"YulFunctionCall","src":"4186:27:0"},"variables":[{"name":"impl","nativeSrc":"4178:4:0","nodeType":"YulTypedName","src":"4178:4:0","type":""}]},{"expression":{"arguments":[{"kind":"number","nativeSrc":"4234:4:0","nodeType":"YulLiteral","src":"4234:4:0","type":"","value":"0x00"},{"name":"impl","nativeSrc":"4240:4:0","nodeType":"YulIdentifier","src":"4240:4:0"}],"functionName":{"name":"mstore","nativeSrc":"4227:6:0","nodeType":"YulIdentifier","src":"4227:6:0"},"nativeSrc":"4227:18:0","nodeType":"YulFunctionCall","src":"4227:18:0"},"nativeSrc":"4227:18:0","nodeType":"YulExpressionStatement","src":"4227:18:0"},{"expression":{"arguments":[{"kind":"number","nativeSrc":"4266:4:0","nodeType":"YulLiteral","src":"4266:4:0","type":"","value":"0x00"},{"kind":"number","nativeSrc":"4272:4:0","nodeType":"YulLiteral","src":"4272:4:0","type":"","value":"0x20"}],"functionName":{"name":"return","nativeSrc":"4259:6:0","nodeType":"YulIdentifier","src":"4259:6:0"},"nativeSrc":"4259:18:0","nodeType":"YulFunctionCall","src":"4259:18:0"},"nativeSrc":"4259:18:0","nodeType":"YulExpressionStatement","src":"4259:18:0"}]},"evmVersion":"paris","externalReferences":[{"declaration":230,"isOffset":false,"isSlot":false,"src":"4192:20:0","valueSize":1}],"id":251,"nodeType":"InlineAssembly","src":"4150:138:0"}]},"functionSelector":"aaf10f42","id":253,"implemented":true,"kind":"function","modifiers":[],"name":"getImplementation","nameLocation":"4087:17:0","nodeType":"FunctionDefinition","parameters":{"id":247,"nodeType":"ParameterList","parameters":[],"src":"4104:2:0"},"returnParameters":{"id":250,"nodeType":"ParameterList","parameters":[{"constant":false,"id":249,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":253,"src":"4130:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":248,"name":"address","nodeType":"ElementaryTypeName","src":"4130:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4129:9:0"},"scope":268,"src":"4078:217:0","stateMutability":"view","virtual":false,"visibility":"external"},{"body":{"id":259,"nodeType":"Block","src":"4352:82:0","statements":[{"AST":{"nativeSrc":"4372:55:0","nodeType":"YulBlock","src":"4372:55:0","statements":[{"expression":{"arguments":[{"name":"_ADMIN_SLOT","nativeSrc":"4394:11:0","nodeType":"YulIdentifier","src":"4394:11:0"},{"name":"newAdmin","nativeSrc":"4407:8:0","nodeType":"YulIdentifier","src":"4407:8:0"}],"functionName":{"name":"sstore","nativeSrc":"4387:6:0","nodeType":"YulIdentifier","src":"4387:6:0"},"nativeSrc":"4387:29:0","nodeType":"YulFunctionCall","src":"4387:29:0"},"nativeSrc":"4387:29:0","nodeType":"YulExpressionStatement","src":"4387:29:0"}]},"evmVersion":"paris","externalReferences":[{"declaration":233,"isOffset":false,"isSlot":false,"src":"4394:11:0","valueSize":1},{"declaration":255,"isOffset":false,"isSlot":false,"src":"4407:8:0","valueSize":1}],"id":258,"nodeType":"InlineAssembly","src":"4363:64:0"}]},"functionSelector":"704b6c02","id":260,"implemented":true,"kind":"function","modifiers":[],"name":"setAdmin","nameLocation":"4316:8:0","nodeType":"FunctionDefinition","parameters":{"id":256,"nodeType":"ParameterList","parameters":[{"constant":false,"id":255,"mutability":"mutable","name":"newAdmin","nameLocation":"4333:8:0","nodeType":"VariableDeclaration","scope":260,"src":"4325:16:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":254,"name":"address","nodeType":"ElementaryTypeName","src":"4325:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4324:18:0"},"returnParameters":{"id":257,"nodeType":"ParameterList","parameters":[],"src":"4352:0:0"},"scope":268,"src":"4307:127:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"body":{"id":266,"nodeType":"Block","src":"4498:149:0","statements":[{"AST":{"nativeSrc":"4518:122:0","nodeType":"YulBlock","src":"4518:122:0","statements":[{"nativeSrc":"4533:31:0","nodeType":"YulVariableDeclaration","src":"4533:31:0","value":{"arguments":[{"name":"_ADMIN_SLOT","nativeSrc":"4552:11:0","nodeType":"YulIdentifier","src":"4552:11:0"}],"functionName":{"name":"sload","nativeSrc":"4546:5:0","nodeType":"YulIdentifier","src":"4546:5:0"},"nativeSrc":"4546:18:0","nodeType":"YulFunctionCall","src":"4546:18:0"},"variables":[{"name":"admin","nativeSrc":"4537:5:0","nodeType":"YulTypedName","src":"4537:5:0","type":""}]},{"expression":{"arguments":[{"kind":"number","nativeSrc":"4585:4:0","nodeType":"YulLiteral","src":"4585:4:0","type":"","value":"0x00"},{"name":"admin","nativeSrc":"4591:5:0","nodeType":"YulIdentifier","src":"4591:5:0"}],"functionName":{"name":"mstore","nativeSrc":"4578:6:0","nodeType":"YulIdentifier","src":"4578:6:0"},"nativeSrc":"4578:19:0","nodeType":"YulFunctionCall","src":"4578:19:0"},"nativeSrc":"4578:19:0","nodeType":"YulExpressionStatement","src":"4578:19:0"},{"expression":{"arguments":[{"kind":"number","nativeSrc":"4618:4:0","nodeType":"YulLiteral","src":"4618:4:0","type":"","value":"0x00"},{"kind":"number","nativeSrc":"4624:4:0","nodeType":"YulLiteral","src":"4624:4:0","type":"","value":"0x20"}],"functionName":{"name":"return","nativeSrc":"4611:6:0","nodeType":"YulIdentifier","src":"4611:6:0"},"nativeSrc":"4611:18:0","nodeType":"YulFunctionCall","src":"4611:18:0"},"nativeSrc":"4611:18:0","nodeType":"YulExpressionStatement","src":"4611:18:0"}]},"evmVersion":"paris","externalReferences":[{"declaration":233,"isOffset":false,"isSlot":false,"src":"4552:11:0","valueSize":1}],"id":265,"nodeType":"InlineAssembly","src":"4509:131:0"}]},"functionSelector":"6e9960c3","id":267,"implemented":true,"kind":"function","modifiers":[],"name":"getAdmin","nameLocation":"4455:8:0","nodeType":"FunctionDefinition","parameters":{"id":261,"nodeType":"ParameterList","parameters":[],"src":"4463:2:0"},"returnParameters":{"id":264,"nodeType":"ParameterList","parameters":[{"constant":false,"id":263,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":267,"src":"4489:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":262,"name":"address","nodeType":"ElementaryTypeName","src":"4489:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4488:9:0"},"scope":268,"src":"4446:201:0","stateMutability":"view","virtual":false,"visibility":"external"}],"scope":326,"src":"3424:1226:0","usedErrors":[],"usedEvents":[]},{"abstract":false,"baseContracts":[],"canonicalName":"InitializerDemo","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"id":325,"linearizedBaseContracts":[325],"name":"InitializerDemo","nameLocation":"4692:15:0","nodeType":"ContractDefinition","nodes":[{"constant":false,"id":270,"mutability":"mutable","name":"initialized","nameLocation":"4728:11:0","nodeType":"VariableDeclaration","scope":325,"src":"4715:24:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":269,"name":"bool","nodeType":"ElementaryTypeName","src":"4715:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"private"},{"constant":false,"functionSelector":"8da5cb5b","id":272,"mutability":"mutable","name":"owner","nameLocation":"4761:5:0","nodeType":"VariableDeclaration","scope":325,"src":"4746:20:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":271,"name":"address","nodeType":"ElementaryTypeName","src":"4746:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"constant":false,"functionSelector":"3fa4f245","id":274,"mutability":"mutable","name":"value","nameLocation":"4788:5:0","nodeType":"VariableDeclaration","scope":325,"src":"4773:20:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":273,"name":"uint256","nodeType":"ElementaryTypeName","src":"4773:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"body":{"id":287,"nodeType":"Block","src":"4829:104:0","statements":[{"expression":{"arguments":[{"id":278,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"4848:12:0","subExpression":{"id":277,"name":"initialized","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":270,"src":"4849:11:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"416c726561647920696e697469616c697a6564","id":279,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4862:21:0","typeDescriptions":{"typeIdentifier":"t_stringliteral_d3814fd4e72cfd7651525eee846049aca388165c613a1085fb56751abcdd36c0","typeString":"literal_string \"Already initialized\""},"value":"Already initialized"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_d3814fd4e72cfd7651525eee846049aca388165c613a1085fb56751abcdd36c0","typeString":"literal_string \"Already initialized\""}],"id":276,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"4840:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":280,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4840:44:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":281,"nodeType":"ExpressionStatement","src":"4840:44:0"},{"id":282,"nodeType":"PlaceholderStatement","src":"4895:1:0"},{"expression":{"id":285,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":283,"name":"initialized","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":270,"src":"4907:11:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"74727565","id":284,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"4921:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"4907:18:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":286,"nodeType":"ExpressionStatement","src":"4907:18:0"}]},"id":288,"name":"initializer","nameLocation":"4815:11:0","nodeType":"ModifierDefinition","parameters":{"id":275,"nodeType":"ParameterList","parameters":[],"src":"4826:2:0"},"src":"4806:127:0","virtual":false,"visibility":"internal"},{"body":{"id":305,"nodeType":"Block","src":"5260:58:0","statements":[{"expression":{"id":299,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":297,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":272,"src":"5271:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":298,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":290,"src":"5279:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5271:14:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":300,"nodeType":"ExpressionStatement","src":"5271:14:0"},{"expression":{"id":303,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":301,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":274,"src":"5296:5:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":302,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":292,"src":"5304:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5296:14:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":304,"nodeType":"ExpressionStatement","src":"5296:14:0"}]},"functionSelector":"cd6dc687","id":306,"implemented":true,"kind":"function","modifiers":[{"id":295,"kind":"modifierInvocation","modifierName":{"id":294,"name":"initializer","nameLocations":["5248:11:0"],"nodeType":"IdentifierPath","referencedDeclaration":288,"src":"5248:11:0"},"nodeType":"ModifierInvocation","src":"5248:11:0"}],"name":"initialize","nameLocation":"5196:10:0","nodeType":"FunctionDefinition","parameters":{"id":293,"nodeType":"ParameterList","parameters":[{"constant":false,"id":290,"mutability":"mutable","name":"_owner","nameLocation":"5215:6:0","nodeType":"VariableDeclaration","scope":306,"src":"5207:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":289,"name":"address","nodeType":"ElementaryTypeName","src":"5207:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":292,"mutability":"mutable","name":"_value","nameLocation":"5231:6:0","nodeType":"VariableDeclaration","scope":306,"src":"5223:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":291,"name":"uint256","nodeType":"ElementaryTypeName","src":"5223:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5206:32:0"},"returnParameters":{"id":296,"nodeType":"ParameterList","parameters":[],"src":"5260:0:0"},"scope":325,"src":"5187:131:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"body":{"id":323,"nodeType":"Block","src":"5373:86:0","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":315,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":312,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5392:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":313,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5396:6:0","memberName":"sender","nodeType":"MemberAccess","src":"5392:10:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":314,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":272,"src":"5406:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5392:19:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4f6e6c79206f776e6572","id":316,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5413:12:0","typeDescriptions":{"typeIdentifier":"t_stringliteral_17d9f114efaa93d67eedad749dd7fd16a6895ff93e28b7a30c667a069f2ed42d","typeString":"literal_string \"Only owner\""},"value":"Only owner"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_17d9f114efaa93d67eedad749dd7fd16a6895ff93e28b7a30c667a069f2ed42d","typeString":"literal_string \"Only owner\""}],"id":311,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"5384:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":317,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5384:42:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":318,"nodeType":"ExpressionStatement","src":"5384:42:0"},{"expression":{"id":321,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":319,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":274,"src":"5437:5:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":320,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":308,"src":"5445:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5437:14:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":322,"nodeType":"ExpressionStatement","src":"5437:14:0"}]},"functionSelector":"55241077","id":324,"implemented":true,"kind":"function","modifiers":[],"name":"setValue","nameLocation":"5339:8:0","nodeType":"FunctionDefinition","parameters":{"id":309,"nodeType":"ParameterList","parameters":[{"constant":false,"id":308,"mutability":"mutable","name":"_value","nameLocation":"5356:6:0","nodeType":"VariableDeclaration","scope":324,"src":"5348:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":307,"name":"uint256","nodeType":"ElementaryTypeName","src":"5348:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5347:16:0"},"returnParameters":{"id":310,"nodeType":"ParameterList","parameters":[],"src":"5373:0:0"},"scope":325,"src":"5330:129:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"scope":326,"src":"4683:779:0","usedErrors":[],"usedEvents":[]}],"src":"33:5429:0"},"id":0}},"contracts":{"contracts/test/CallDelegateCallTest.sol":{"CallTestCaller":{"abi":[{"inputs":[],"name":"contractAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentState","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"reset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"sender","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"target","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"testCall","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"target","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"testDelegateCall","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"value","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}],"devdoc":{"kind":"dev","methods":{},"version":1},"evm":{"bytecode":{"functionDebugData":{},"generatedSources":[],"linkReferences":{},"object":"608080604052346100165761032e908161001c8239f35b600080fdfe60806040818152600436101561001457600080fd5b600091823560e01c908163378aa70114610216575080633fa4f245146101fa57806359c75ada1461017e57806367e404ce14610156578063c3ffae73146100d3578063d826f88f1461009a5763f6b4dfb41461006f57600080fd5b3461009657816003193601126100965760025490516001600160a01b039091168152602090f35b5080fd5b82346100d057806003193601126100d0578080556bffffffffffffffffffffffff60a01b80600154166001556002541660025580f35b80fd5b50346100965781806100e436610250565b845160208101916366452af160e11b83526024820152602481526101078161027b565b51915af46101136102ad565b501561011d575080f35b5162461bcd60e51b815260206004820152601360248201527211195b1959d85d1950d85b1b0819985a5b1959606a1b6044820152606490fd5b503461009657816003193601126100965760015490516001600160a01b039091168152602090f35b503461009657818061018f36610250565b82855160208101926366452af160e11b84526024820152602481526101b38161027b565b51925af16101bf6102ad565b50156101c9575080f35b5162461bcd60e51b815260206004820152600b60248201526a10d85b1b0819985a5b195960aa1b6044820152606490fd5b5034610096578160031936011261009657602091549051908152f35b9190503461024c578260031936011261024c57606092549060018060a01b03806001541690600254169284526020840152820152f35b8280fd5b6040906003190112610276576004356001600160a01b0381168103610276579060243590565b600080fd5b6060810190811067ffffffffffffffff82111761029757604052565b634e487b7160e01b600052604160045260246000fd5b3d156102f35767ffffffffffffffff903d8281116102975760405192601f8201601f19908116603f01168401908111848210176102975760405282523d6000602084013e565b60609056fea2646970667358221220b49b8a17c9458522e2287eaa6442043b3d491025fd6febca296e4657aa9c698564736f6c63430008160033","opcodes":"PUSH1 0x80 DUP1 PUSH1 0x40 MSTORE CALLVALUE PUSH2 0x16 JUMPI PUSH2 0x32E SWAP1 DUP2 PUSH2 0x1C DUP3 CODECOPY RETURN JUMPDEST PUSH1 0x0 DUP1 REVERT INVALID PUSH1 0x80 PUSH1 0x40 DUP2 DUP2 MSTORE PUSH1 0x4 CALLDATASIZE LT ISZERO PUSH2 0x14 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 SWAP2 DUP3 CALLDATALOAD PUSH1 0xE0 SHR SWAP1 DUP2 PUSH4 0x378AA701 EQ PUSH2 0x216 JUMPI POP DUP1 PUSH4 0x3FA4F245 EQ PUSH2 0x1FA JUMPI DUP1 PUSH4 0x59C75ADA EQ PUSH2 0x17E JUMPI DUP1 PUSH4 0x67E404CE EQ PUSH2 0x156 JUMPI DUP1 PUSH4 0xC3FFAE73 EQ PUSH2 0xD3 JUMPI DUP1 PUSH4 0xD826F88F EQ PUSH2 0x9A JUMPI PUSH4 0xF6B4DFB4 EQ PUSH2 0x6F JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST CALLVALUE PUSH2 0x96 JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x96 JUMPI PUSH1 0x2 SLOAD SWAP1 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 SWAP2 AND DUP2 MSTORE PUSH1 0x20 SWAP1 RETURN JUMPDEST POP DUP1 REVERT JUMPDEST DUP3 CALLVALUE PUSH2 0xD0 JUMPI DUP1 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0xD0 JUMPI DUP1 DUP1 SSTORE PUSH12 0xFFFFFFFFFFFFFFFFFFFFFFFF PUSH1 0xA0 SHL DUP1 PUSH1 0x1 SLOAD AND PUSH1 0x1 SSTORE PUSH1 0x2 SLOAD AND PUSH1 0x2 SSTORE DUP1 RETURN JUMPDEST DUP1 REVERT JUMPDEST POP CALLVALUE PUSH2 0x96 JUMPI DUP2 DUP1 PUSH2 0xE4 CALLDATASIZE PUSH2 0x250 JUMP JUMPDEST DUP5 MLOAD PUSH1 0x20 DUP2 ADD SWAP2 PUSH4 0x66452AF1 PUSH1 0xE1 SHL DUP4 MSTORE PUSH1 0x24 DUP3 ADD MSTORE PUSH1 0x24 DUP2 MSTORE PUSH2 0x107 DUP2 PUSH2 0x27B JUMP JUMPDEST MLOAD SWAP2 GAS DELEGATECALL PUSH2 0x113 PUSH2 0x2AD JUMP JUMPDEST POP ISZERO PUSH2 0x11D JUMPI POP DUP1 RETURN JUMPDEST MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x13 PUSH1 0x24 DUP3 ADD MSTORE PUSH19 0x11195B1959D85D1950D85B1B0819985A5B1959 PUSH1 0x6A SHL PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 SWAP1 REVERT JUMPDEST POP CALLVALUE PUSH2 0x96 JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x96 JUMPI PUSH1 0x1 SLOAD SWAP1 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 SWAP2 AND DUP2 MSTORE PUSH1 0x20 SWAP1 RETURN JUMPDEST POP CALLVALUE PUSH2 0x96 JUMPI DUP2 DUP1 PUSH2 0x18F CALLDATASIZE PUSH2 0x250 JUMP JUMPDEST DUP3 DUP6 MLOAD PUSH1 0x20 DUP2 ADD SWAP3 PUSH4 0x66452AF1 PUSH1 0xE1 SHL DUP5 MSTORE PUSH1 0x24 DUP3 ADD MSTORE PUSH1 0x24 DUP2 MSTORE PUSH2 0x1B3 DUP2 PUSH2 0x27B JUMP JUMPDEST MLOAD SWAP3 GAS CALL PUSH2 0x1BF PUSH2 0x2AD JUMP JUMPDEST POP ISZERO PUSH2 0x1C9 JUMPI POP DUP1 RETURN JUMPDEST MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0xB PUSH1 0x24 DUP3 ADD MSTORE PUSH11 0x10D85B1B0819985A5B1959 PUSH1 0xAA SHL PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 SWAP1 REVERT JUMPDEST POP CALLVALUE PUSH2 0x96 JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x96 JUMPI PUSH1 0x20 SWAP2 SLOAD SWAP1 MLOAD SWAP1 DUP2 MSTORE RETURN JUMPDEST SWAP2 SWAP1 POP CALLVALUE PUSH2 0x24C JUMPI DUP3 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x24C JUMPI PUSH1 0x60 SWAP3 SLOAD SWAP1 PUSH1 0x1 DUP1 PUSH1 0xA0 SHL SUB DUP1 PUSH1 0x1 SLOAD AND SWAP1 PUSH1 0x2 SLOAD AND SWAP3 DUP5 MSTORE PUSH1 0x20 DUP5 ADD MSTORE DUP3 ADD MSTORE RETURN JUMPDEST DUP3 DUP1 REVERT JUMPDEST PUSH1 0x40 SWAP1 PUSH1 0x3 NOT ADD SLT PUSH2 0x276 JUMPI PUSH1 0x4 CALLDATALOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP2 AND DUP2 SUB PUSH2 0x276 JUMPI SWAP1 PUSH1 0x24 CALLDATALOAD SWAP1 JUMP JUMPDEST PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x60 DUP2 ADD SWAP1 DUP2 LT PUSH8 0xFFFFFFFFFFFFFFFF DUP3 GT OR PUSH2 0x297 JUMPI PUSH1 0x40 MSTORE JUMP JUMPDEST PUSH4 0x4E487B71 PUSH1 0xE0 SHL PUSH1 0x0 MSTORE PUSH1 0x41 PUSH1 0x4 MSTORE PUSH1 0x24 PUSH1 0x0 REVERT JUMPDEST RETURNDATASIZE ISZERO PUSH2 0x2F3 JUMPI PUSH8 0xFFFFFFFFFFFFFFFF SWAP1 RETURNDATASIZE DUP3 DUP2 GT PUSH2 0x297 JUMPI PUSH1 0x40 MLOAD SWAP3 PUSH1 0x1F DUP3 ADD PUSH1 0x1F NOT SWAP1 DUP2 AND PUSH1 0x3F ADD AND DUP5 ADD SWAP1 DUP2 GT DUP5 DUP3 LT OR PUSH2 0x297 JUMPI PUSH1 0x40 MSTORE DUP3 MSTORE RETURNDATASIZE PUSH1 0x0 PUSH1 0x20 DUP5 ADD RETURNDATACOPY JUMP JUMPDEST PUSH1 0x60 SWAP1 JUMP INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 0xB4 SWAP12 DUP11 OR 0xC9 GASLIMIT DUP6 0x22 0xE2 0x28 PUSH31 0xAA6442043B3D491025FD6FEBCA296E4657AA9C698564736F6C634300081600 CALLER ","sourceMap":"825:998:0:-:0;;;;;;;;;;;;;;;;;"},"deployedBytecode":{"functionDebugData":{"abi_decode_addresst_uint256":{"entryPoint":592,"id":null,"parameterSlots":1,"returnSlots":2},"extract_returndata":{"entryPoint":685,"id":null,"parameterSlots":0,"returnSlots":1},"finalize_allocation":{"entryPoint":635,"id":null,"parameterSlots":1,"returnSlots":0}},"generatedSources":[],"immutableReferences":{},"linkReferences":{},"object":"60806040818152600436101561001457600080fd5b600091823560e01c908163378aa70114610216575080633fa4f245146101fa57806359c75ada1461017e57806367e404ce14610156578063c3ffae73146100d3578063d826f88f1461009a5763f6b4dfb41461006f57600080fd5b3461009657816003193601126100965760025490516001600160a01b039091168152602090f35b5080fd5b82346100d057806003193601126100d0578080556bffffffffffffffffffffffff60a01b80600154166001556002541660025580f35b80fd5b50346100965781806100e436610250565b845160208101916366452af160e11b83526024820152602481526101078161027b565b51915af46101136102ad565b501561011d575080f35b5162461bcd60e51b815260206004820152601360248201527211195b1959d85d1950d85b1b0819985a5b1959606a1b6044820152606490fd5b503461009657816003193601126100965760015490516001600160a01b039091168152602090f35b503461009657818061018f36610250565b82855160208101926366452af160e11b84526024820152602481526101b38161027b565b51925af16101bf6102ad565b50156101c9575080f35b5162461bcd60e51b815260206004820152600b60248201526a10d85b1b0819985a5b195960aa1b6044820152606490fd5b5034610096578160031936011261009657602091549051908152f35b9190503461024c578260031936011261024c57606092549060018060a01b03806001541690600254169284526020840152820152f35b8280fd5b6040906003190112610276576004356001600160a01b0381168103610276579060243590565b600080fd5b6060810190811067ffffffffffffffff82111761029757604052565b634e487b7160e01b600052604160045260246000fd5b3d156102f35767ffffffffffffffff903d8281116102975760405192601f8201601f19908116603f01168401908111848210176102975760405282523d6000602084013e565b60609056fea2646970667358221220b49b8a17c9458522e2287eaa6442043b3d491025fd6febca296e4657aa9c698564736f6c63430008160033","opcodes":"PUSH1 0x80 PUSH1 0x40 DUP2 DUP2 MSTORE PUSH1 0x4 CALLDATASIZE LT ISZERO PUSH2 0x14 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 SWAP2 DUP3 CALLDATALOAD PUSH1 0xE0 SHR SWAP1 DUP2 PUSH4 0x378AA701 EQ PUSH2 0x216 JUMPI POP DUP1 PUSH4 0x3FA4F245 EQ PUSH2 0x1FA JUMPI DUP1 PUSH4 0x59C75ADA EQ PUSH2 0x17E JUMPI DUP1 PUSH4 0x67E404CE EQ PUSH2 0x156 JUMPI DUP1 PUSH4 0xC3FFAE73 EQ PUSH2 0xD3 JUMPI DUP1 PUSH4 0xD826F88F EQ PUSH2 0x9A JUMPI PUSH4 0xF6B4DFB4 EQ PUSH2 0x6F JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST CALLVALUE PUSH2 0x96 JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x96 JUMPI PUSH1 0x2 SLOAD SWAP1 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 SWAP2 AND DUP2 MSTORE PUSH1 0x20 SWAP1 RETURN JUMPDEST POP DUP1 REVERT JUMPDEST DUP3 CALLVALUE PUSH2 0xD0 JUMPI DUP1 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0xD0 JUMPI DUP1 DUP1 SSTORE PUSH12 0xFFFFFFFFFFFFFFFFFFFFFFFF PUSH1 0xA0 SHL DUP1 PUSH1 0x1 SLOAD AND PUSH1 0x1 SSTORE PUSH1 0x2 SLOAD AND PUSH1 0x2 SSTORE DUP1 RETURN JUMPDEST DUP1 REVERT JUMPDEST POP CALLVALUE PUSH2 0x96 JUMPI DUP2 DUP1 PUSH2 0xE4 CALLDATASIZE PUSH2 0x250 JUMP JUMPDEST DUP5 MLOAD PUSH1 0x20 DUP2 ADD SWAP2 PUSH4 0x66452AF1 PUSH1 0xE1 SHL DUP4 MSTORE PUSH1 0x24 DUP3 ADD MSTORE PUSH1 0x24 DUP2 MSTORE PUSH2 0x107 DUP2 PUSH2 0x27B JUMP JUMPDEST MLOAD SWAP2 GAS DELEGATECALL PUSH2 0x113 PUSH2 0x2AD JUMP JUMPDEST POP ISZERO PUSH2 0x11D JUMPI POP DUP1 RETURN JUMPDEST MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x13 PUSH1 0x24 DUP3 ADD MSTORE PUSH19 0x11195B1959D85D1950D85B1B0819985A5B1959 PUSH1 0x6A SHL PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 SWAP1 REVERT JUMPDEST POP CALLVALUE PUSH2 0x96 JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x96 JUMPI PUSH1 0x1 SLOAD SWAP1 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 SWAP2 AND DUP2 MSTORE PUSH1 0x20 SWAP1 RETURN JUMPDEST POP CALLVALUE PUSH2 0x96 JUMPI DUP2 DUP1 PUSH2 0x18F CALLDATASIZE PUSH2 0x250 JUMP JUMPDEST DUP3 DUP6 MLOAD PUSH1 0x20 DUP2 ADD SWAP3 PUSH4 0x66452AF1 PUSH1 0xE1 SHL DUP5 MSTORE PUSH1 0x24 DUP3 ADD MSTORE PUSH1 0x24 DUP2 MSTORE PUSH2 0x1B3 DUP2 PUSH2 0x27B JUMP JUMPDEST MLOAD SWAP3 GAS CALL PUSH2 0x1BF PUSH2 0x2AD JUMP JUMPDEST POP ISZERO PUSH2 0x1C9 JUMPI POP DUP1 RETURN JUMPDEST MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0xB PUSH1 0x24 DUP3 ADD MSTORE PUSH11 0x10D85B1B0819985A5B1959 PUSH1 0xAA SHL PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 SWAP1 REVERT JUMPDEST POP CALLVALUE PUSH2 0x96 JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x96 JUMPI PUSH1 0x20 SWAP2 SLOAD SWAP1 MLOAD SWAP1 DUP2 MSTORE RETURN JUMPDEST SWAP2 SWAP1 POP CALLVALUE PUSH2 0x24C JUMPI DUP3 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x24C JUMPI PUSH1 0x60 SWAP3 SLOAD SWAP1 PUSH1 0x1 DUP1 PUSH1 0xA0 SHL SUB DUP1 PUSH1 0x1 SLOAD AND SWAP1 PUSH1 0x2 SLOAD AND SWAP3 DUP5 MSTORE PUSH1 0x20 DUP5 ADD MSTORE DUP3 ADD MSTORE RETURN JUMPDEST DUP3 DUP1 REVERT JUMPDEST PUSH1 0x40 SWAP1 PUSH1 0x3 NOT ADD SLT PUSH2 0x276 JUMPI PUSH1 0x4 CALLDATALOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP2 AND DUP2 SUB PUSH2 0x276 JUMPI SWAP1 PUSH1 0x24 CALLDATALOAD SWAP1 JUMP JUMPDEST PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x60 DUP2 ADD SWAP1 DUP2 LT PUSH8 0xFFFFFFFFFFFFFFFF DUP3 GT OR PUSH2 0x297 JUMPI PUSH1 0x40 MSTORE JUMP JUMPDEST PUSH4 0x4E487B71 PUSH1 0xE0 SHL PUSH1 0x0 MSTORE PUSH1 0x41 PUSH1 0x4 MSTORE PUSH1 0x24 PUSH1 0x0 REVERT JUMPDEST RETURNDATASIZE ISZERO PUSH2 0x2F3 JUMPI PUSH8 0xFFFFFFFFFFFFFFFF SWAP1 RETURNDATASIZE DUP3 DUP2 GT PUSH2 0x297 JUMPI PUSH1 0x40 MLOAD SWAP3 PUSH1 0x1F DUP3 ADD PUSH1 0x1F NOT SWAP1 DUP2 AND PUSH1 0x3F ADD AND DUP5 ADD SWAP1 DUP2 GT DUP5 DUP3 LT OR PUSH2 0x297 JUMPI PUSH1 0x40 MSTORE DUP3 MSTORE RETURNDATASIZE PUSH1 0x0 PUSH1 0x20 DUP5 ADD RETURNDATACOPY JUMP JUMPDEST PUSH1 0x60 SWAP1 JUMP INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 0xB4 SWAP12 DUP11 OR 0xC9 GASLIMIT DUP6 0x22 0xE2 0x28 PUSH31 0xAA6442043B3D491025FD6FEBCA296E4657AA9C698564736F6C634300081600 CALLER ","sourceMap":"825:998:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;911:30;825:998;;;-1:-1:-1;;;;;825:998:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1607:19;825:998;;1607:19;825:998;1637:28;825:998;;1637:28;825:998;;;;;;;;;;;;;;;;:::i;:::-;;;1414:55;;;1108;;;;1414;;;;;825:998;1414:55;;;;;;:::i;:::-;1380:100;;;;;;:::i;:::-;;825:998;;;;;;;;-1:-1:-1;;;825:998:0;;1414:55;825:998;;;;;1414:55;825:998;;;-1:-1:-1;;;825:998:0;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;825:998:0;;;;;;;;;;;;;;;;;;:::i;:::-;;;;1108:55;;;;;;;;;;;;825:998;1108:55;;;;;;:::i;:::-;1082:92;;;;;;:::i;:::-;;825:998;;;;;;;;-1:-1:-1;;;825:998:0;;1108:55;825:998;;;;;1108:55;825:998;;;-1:-1:-1;;;825:998:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1788:6;825:998;;;1796:15;825:998;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;825:998:0;;;;;;;;;;:::o;:::-;-1:-1:-1;825:998:0;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;825:998:0;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;825:998:0;;;;:::o;:::-;;;:::o"},"gasEstimates":{"creation":{"codeDepositCost":"162800","executionCost":"214","totalCost":"163014"},"external":{"contractAddress()":"2420","getCurrentState()":"6530","reset()":"53692","sender()":"2359","testCall(address,uint256)":"infinite","testDelegateCall(address,uint256)":"infinite","value()":"2291"}},"methodIdentifiers":{"contractAddress()":"f6b4dfb4","getCurrentState()":"378aa701","reset()":"d826f88f","sender()":"67e404ce","testCall(address,uint256)":"59c75ada","testDelegateCall(address,uint256)":"c3ffae73","value()":"3fa4f245"}},"metadata":"{\"compiler\":{\"version\":\"0.8.22+commit.4fc1097e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"contractAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentState\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"reset\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"sender\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"testCall\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"testDelegateCall\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"value\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/test/CallDelegateCallTest.sol\":\"CallTestCaller\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[],\"viaIR\":true},\"sources\":{\"contracts/test/CallDelegateCallTest.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity ^0.8.0;\\r\\n\\r\\n/**\\r\\n * @title Call vs DelegateCall \\u6d4b\\u8bd5\\u5408\\u7ea6\\r\\n * @dev \\u7528\\u4e8e\\u6f14\\u793a call \\u548c delegatecall \\u7684\\u533a\\u522b\\r\\n */\\r\\n\\r\\n// \\u76ee\\u6807\\u5408\\u7ea6 - \\u5305\\u542b\\u4e1a\\u52a1\\u903b\\u8f91\\r\\ncontract CallTestTarget {\\r\\n    uint256 public value;\\r\\n    address public sender;\\r\\n    address public contractAddress;\\r\\n    \\r\\n    function updateState(uint256 _value) external {\\r\\n        value = _value;\\r\\n        sender = msg.sender;\\r\\n        contractAddress = address(this);\\r\\n    }\\r\\n    \\r\\n    function reset() external {\\r\\n        value = 0;\\r\\n        sender = address(0);\\r\\n        contractAddress = address(0);\\r\\n    }\\r\\n    \\r\\n    function getCurrentState() external view returns (uint256, address, address) {\\r\\n        return (value, sender, contractAddress);\\r\\n    }\\r\\n}\\r\\n\\r\\n// \\u8c03\\u7528\\u8005\\u5408\\u7ea6 - \\u6f14\\u793a\\u4e24\\u79cd\\u8c03\\u7528\\u65b9\\u5f0f\\r\\ncontract CallTestCaller {\\r\\n    uint256 public value;\\r\\n    address public sender;\\r\\n    address public contractAddress;\\r\\n    \\r\\n    // \\u4f7f\\u7528 call \\u8c03\\u7528\\u76ee\\u6807\\u5408\\u7ea6\\r\\n    function testCall(address target, uint256 _value) external {\\r\\n        (bool success, ) = target.call(\\r\\n            abi.encodeWithSignature(\\\"updateState(uint256)\\\", _value)\\r\\n        );\\r\\n        require(success, \\\"Call failed\\\");\\r\\n    }\\r\\n    \\r\\n    // \\u4f7f\\u7528 delegatecall \\u8c03\\u7528\\u76ee\\u6807\\u5408\\u7ea6\\r\\n    function testDelegateCall(address target, uint256 _value) external {\\r\\n        (bool success, ) = target.delegatecall(\\r\\n            abi.encodeWithSignature(\\\"updateState(uint256)\\\", _value)\\r\\n        );\\r\\n        require(success, \\\"DelegateCall failed\\\");\\r\\n    }\\r\\n    \\r\\n    function reset() external {\\r\\n        value = 0;\\r\\n        sender = address(0);\\r\\n        contractAddress = address(0);\\r\\n    }\\r\\n    \\r\\n    function getCurrentState() external view returns (uint256, address, address) {\\r\\n        return (value, sender, contractAddress);\\r\\n    }\\r\\n}\\r\\n\\r\\n// \\u7b80\\u5355\\u4ee3\\u7406\\u5408\\u7ea6 - \\u6f14\\u793a\\u4ee3\\u7406\\u6a21\\u5f0f\\r\\ncontract SimpleProxyDemo {\\r\\n    address private immutable implementation;\\r\\n    \\r\\n    constructor(address _implementation) {\\r\\n        implementation = _implementation;\\r\\n    }\\r\\n    \\r\\n    // \\u6240\\u6709\\u8c03\\u7528\\u90fd\\u8f6c\\u53d1\\u5230\\u5b9e\\u73b0\\u5408\\u7ea6\\r\\n    fallback() external payable {\\r\\n        address impl = implementation;\\r\\n        \\r\\n        assembly {\\r\\n            // \\u590d\\u5236 calldata\\r\\n            calldatacopy(0, 0, calldatasize())\\r\\n            \\r\\n            // delegatecall \\u5230\\u5b9e\\u73b0\\u5408\\u7ea6\\r\\n            let result := delegatecall(gas(), impl, 0, calldatasize(), 0, 0)\\r\\n            \\r\\n            // \\u590d\\u5236\\u8fd4\\u56de\\u6570\\u636e\\r\\n            returndatacopy(0, 0, returndatasize())\\r\\n            \\r\\n            // \\u6839\\u636e\\u7ed3\\u679c\\u8fd4\\u56de\\u6216\\u56de\\u6eda\\r\\n            switch result\\r\\n            case 0 {\\r\\n                revert(0, returndatasize())\\r\\n            }\\r\\n            default {\\r\\n                return(0, returndatasize())\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    receive() external payable {}\\r\\n}\\r\\n\\r\\n// \\u5b58\\u50a8\\u51b2\\u7a81\\u6f14\\u793a\\u5408\\u7ea6\\r\\ncontract StorageConflictDemo {\\r\\n    // \\u6f14\\u793a\\u5b58\\u50a8\\u69fd\\u51b2\\u7a81\\u95ee\\u9898\\r\\n    address public owner;        // slot 0\\r\\n    uint256 public value1;       // slot 1\\r\\n    uint256 public value2;       // slot 2\\r\\n    \\r\\n    mapping(address => uint256) public balances; // slot 3\\r\\n    \\r\\n    function setValues(uint256 _value1, uint256 _value2) external {\\r\\n        value1 = _value1;\\r\\n        value2 = _value2;\\r\\n    }\\r\\n    \\r\\n    function setBalance(address account, uint256 amount) external {\\r\\n        balances[account] = amount;\\r\\n    }\\r\\n}\\r\\n\\r\\n// EIP-1967 \\u6807\\u51c6\\u5b58\\u50a8\\u69fd\\u6f14\\u793a\\r\\ncontract EIP1967Demo {\\r\\n    // EIP-1967 \\u6807\\u51c6\\u5b58\\u50a8\\u69fd\\r\\n    bytes32 internal constant _IMPLEMENTATION_SLOT = 0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc;\\r\\n    bytes32 internal constant _ADMIN_SLOT = 0xb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103;\\r\\n    \\r\\n    // \\u5e38\\u89c4\\u5b58\\u50a8\\u53d8\\u91cf\\r\\n    uint256 public regularValue1;    // slot 0\\r\\n    uint256 public regularValue2;    // slot 1\\r\\n    address public regularAddress;   // slot 2\\r\\n    \\r\\n    function setImplementation(address newImplementation) external {\\r\\n        assembly {\\r\\n            sstore(_IMPLEMENTATION_SLOT, newImplementation)\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    function getImplementation() external view returns (address) {\\r\\n        assembly {\\r\\n            let impl := sload(_IMPLEMENTATION_SLOT)\\r\\n            mstore(0x00, impl)\\r\\n            return(0x00, 0x20)\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    function setAdmin(address newAdmin) external {\\r\\n        assembly {\\r\\n            sstore(_ADMIN_SLOT, newAdmin)\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    function getAdmin() external view returns (address) {\\r\\n        assembly {\\r\\n            let admin := sload(_ADMIN_SLOT)\\r\\n            mstore(0x00, admin)\\r\\n            return(0x00, 0x20)\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\\r\\n// \\u521d\\u59cb\\u5316\\u5668\\u6a21\\u5f0f\\u6f14\\u793a\\r\\ncontract InitializerDemo {\\r\\n    bool private initialized;\\r\\n    address public owner;\\r\\n    uint256 public value;\\r\\n    \\r\\n    modifier initializer() {\\r\\n        require(!initialized, \\\"Already initialized\\\");\\r\\n        _;\\r\\n        initialized = true;\\r\\n    }\\r\\n    \\r\\n    // \\u274c \\u9519\\u8bef\\uff1a\\u4f7f\\u7528\\u6784\\u9020\\u51fd\\u6570\\uff08\\u5728\\u4ee3\\u7406\\u6a21\\u5f0f\\u4e2d\\u4e0d\\u5de5\\u4f5c\\uff09\\r\\n    // constructor(address _owner, uint256 _value) {\\r\\n    //     owner = _owner;\\r\\n    //     value = _value;\\r\\n    // }\\r\\n    \\r\\n    // \\u2705 \\u6b63\\u786e\\uff1a\\u4f7f\\u7528\\u521d\\u59cb\\u5316\\u51fd\\u6570\\r\\n    function initialize(address _owner, uint256 _value) external initializer {\\r\\n        owner = _owner;\\r\\n        value = _value;\\r\\n    }\\r\\n    \\r\\n    function setValue(uint256 _value) external {\\r\\n        require(msg.sender == owner, \\\"Only owner\\\");\\r\\n        value = _value;\\r\\n    }\\r\\n}\",\"keccak256\":\"0xf8c3602278eb7b576253ae234ebad07238bdb4975c7ff6507a1f2ee82d5bf1b2\",\"license\":\"MIT\"}},\"version\":1}","storageLayout":{"storage":[{"astId":70,"contract":"contracts/test/CallDelegateCallTest.sol:CallTestCaller","label":"value","offset":0,"slot":"0","type":"t_uint256"},{"astId":72,"contract":"contracts/test/CallDelegateCallTest.sol:CallTestCaller","label":"sender","offset":0,"slot":"1","type":"t_address"},{"astId":74,"contract":"contracts/test/CallDelegateCallTest.sol:CallTestCaller","label":"contractAddress","offset":0,"slot":"2","type":"t_address"}],"types":{"t_address":{"encoding":"inplace","label":"address","numberOfBytes":"20"},"t_uint256":{"encoding":"inplace","label":"uint256","numberOfBytes":"32"}}},"userdoc":{"kind":"user","methods":{},"version":1}},"CallTestTarget":{"abi":[{"inputs":[],"name":"contractAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentState","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"reset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"sender","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"updateState","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"value","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}],"devdoc":{"details":"用于演示 call 和 delegatecall 的区别","kind":"dev","methods":{},"title":"Call vs DelegateCall 测试合约","version":1},"evm":{"bytecode":{"functionDebugData":{},"generatedSources":[],"linkReferences":{},"object":"60808060405234610016576101ba908161001c8239f35b600080fdfe608080604052600436101561001357600080fd5b600090813560e01c908163378aa70114610148575080633fa4f2451461012b57806367e404ce14610102578063cc8a55e2146100c4578063d826f88f1461008e5763f6b4dfb41461006357600080fd5b3461008b578060031936011261008b576002546040516001600160a01b039091168152602090f35b80fd5b503461008b578060031936011261008b578080556bffffffffffffffffffffffff60a01b80600154166001556002541660025580f35b503461008b57602036600319011261008b5760043581556bffffffffffffffffffffffff60a01b338160015416176001553090600254161760025580f35b503461008b578060031936011261008b576001546040516001600160a01b039091168152602090f35b503461008b578060031936011261008b5760209054604051908152f35b90503461018057816003193601126101805790546001546002549183526001600160a01b039081166020840152166040820152606090f35b5080fdfea2646970667358221220a7fe194e5251737b974e04a6eefb4eee139ca6824498bb1c241879bea59324b964736f6c63430008160033","opcodes":"PUSH1 0x80 DUP1 PUSH1 0x40 MSTORE CALLVALUE PUSH2 0x16 JUMPI PUSH2 0x1BA SWAP1 DUP2 PUSH2 0x1C DUP3 CODECOPY RETURN JUMPDEST PUSH1 0x0 DUP1 REVERT INVALID PUSH1 0x80 DUP1 PUSH1 0x40 MSTORE PUSH1 0x4 CALLDATASIZE LT ISZERO PUSH2 0x13 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 SWAP1 DUP2 CALLDATALOAD PUSH1 0xE0 SHR SWAP1 DUP2 PUSH4 0x378AA701 EQ PUSH2 0x148 JUMPI POP DUP1 PUSH4 0x3FA4F245 EQ PUSH2 0x12B JUMPI DUP1 PUSH4 0x67E404CE EQ PUSH2 0x102 JUMPI DUP1 PUSH4 0xCC8A55E2 EQ PUSH2 0xC4 JUMPI DUP1 PUSH4 0xD826F88F EQ PUSH2 0x8E JUMPI PUSH4 0xF6B4DFB4 EQ PUSH2 0x63 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST CALLVALUE PUSH2 0x8B JUMPI DUP1 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x8B JUMPI PUSH1 0x2 SLOAD PUSH1 0x40 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 SWAP2 AND DUP2 MSTORE PUSH1 0x20 SWAP1 RETURN JUMPDEST DUP1 REVERT JUMPDEST POP CALLVALUE PUSH2 0x8B JUMPI DUP1 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x8B JUMPI DUP1 DUP1 SSTORE PUSH12 0xFFFFFFFFFFFFFFFFFFFFFFFF PUSH1 0xA0 SHL DUP1 PUSH1 0x1 SLOAD AND PUSH1 0x1 SSTORE PUSH1 0x2 SLOAD AND PUSH1 0x2 SSTORE DUP1 RETURN JUMPDEST POP CALLVALUE PUSH2 0x8B JUMPI PUSH1 0x20 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0x8B JUMPI PUSH1 0x4 CALLDATALOAD DUP2 SSTORE PUSH12 0xFFFFFFFFFFFFFFFFFFFFFFFF PUSH1 0xA0 SHL CALLER DUP2 PUSH1 0x1 SLOAD AND OR PUSH1 0x1 SSTORE ADDRESS SWAP1 PUSH1 0x2 SLOAD AND OR PUSH1 0x2 SSTORE DUP1 RETURN JUMPDEST POP CALLVALUE PUSH2 0x8B JUMPI DUP1 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x8B JUMPI PUSH1 0x1 SLOAD PUSH1 0x40 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 SWAP2 AND DUP2 MSTORE PUSH1 0x20 SWAP1 RETURN JUMPDEST POP CALLVALUE PUSH2 0x8B JUMPI DUP1 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x8B JUMPI PUSH1 0x20 SWAP1 SLOAD PUSH1 0x40 MLOAD SWAP1 DUP2 MSTORE RETURN JUMPDEST SWAP1 POP CALLVALUE PUSH2 0x180 JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x180 JUMPI SWAP1 SLOAD PUSH1 0x1 SLOAD PUSH1 0x2 SLOAD SWAP2 DUP4 MSTORE PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 DUP2 AND PUSH1 0x20 DUP5 ADD MSTORE AND PUSH1 0x40 DUP3 ADD MSTORE PUSH1 0x60 SWAP1 RETURN JUMPDEST POP DUP1 REVERT INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 0xA7 INVALID NOT 0x4E MSTORE MLOAD PUSH20 0x7B974E04A6EEFB4EEE139CA6824498BB1C241879 0xBE 0xA5 SWAP4 0x24 0xB9 PUSH5 0x736F6C6343 STOP ADDMOD AND STOP CALLER ","sourceMap":"209:565:0:-:0;;;;;;;;;;;;;;;;;"},"deployedBytecode":{"functionDebugData":{},"generatedSources":[],"immutableReferences":{},"linkReferences":{},"object":"608080604052600436101561001357600080fd5b600090813560e01c908163378aa70114610148575080633fa4f2451461012b57806367e404ce14610102578063cc8a55e2146100c4578063d826f88f1461008e5763f6b4dfb41461006357600080fd5b3461008b578060031936011261008b576002546040516001600160a01b039091168152602090f35b80fd5b503461008b578060031936011261008b578080556bffffffffffffffffffffffff60a01b80600154166001556002541660025580f35b503461008b57602036600319011261008b5760043581556bffffffffffffffffffffffff60a01b338160015416176001553090600254161760025580f35b503461008b578060031936011261008b576001546040516001600160a01b039091168152602090f35b503461008b578060031936011261008b5760209054604051908152f35b90503461018057816003193601126101805790546001546002549183526001600160a01b039081166020840152166040820152606090f35b5080fdfea2646970667358221220a7fe194e5251737b974e04a6eefb4eee139ca6824498bb1c241879bea59324b964736f6c63430008160033","opcodes":"PUSH1 0x80 DUP1 PUSH1 0x40 MSTORE PUSH1 0x4 CALLDATASIZE LT ISZERO PUSH2 0x13 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 SWAP1 DUP2 CALLDATALOAD PUSH1 0xE0 SHR SWAP1 DUP2 PUSH4 0x378AA701 EQ PUSH2 0x148 JUMPI POP DUP1 PUSH4 0x3FA4F245 EQ PUSH2 0x12B JUMPI DUP1 PUSH4 0x67E404CE EQ PUSH2 0x102 JUMPI DUP1 PUSH4 0xCC8A55E2 EQ PUSH2 0xC4 JUMPI DUP1 PUSH4 0xD826F88F EQ PUSH2 0x8E JUMPI PUSH4 0xF6B4DFB4 EQ PUSH2 0x63 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST CALLVALUE PUSH2 0x8B JUMPI DUP1 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x8B JUMPI PUSH1 0x2 SLOAD PUSH1 0x40 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 SWAP2 AND DUP2 MSTORE PUSH1 0x20 SWAP1 RETURN JUMPDEST DUP1 REVERT JUMPDEST POP CALLVALUE PUSH2 0x8B JUMPI DUP1 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x8B JUMPI DUP1 DUP1 SSTORE PUSH12 0xFFFFFFFFFFFFFFFFFFFFFFFF PUSH1 0xA0 SHL DUP1 PUSH1 0x1 SLOAD AND PUSH1 0x1 SSTORE PUSH1 0x2 SLOAD AND PUSH1 0x2 SSTORE DUP1 RETURN JUMPDEST POP CALLVALUE PUSH2 0x8B JUMPI PUSH1 0x20 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0x8B JUMPI PUSH1 0x4 CALLDATALOAD DUP2 SSTORE PUSH12 0xFFFFFFFFFFFFFFFFFFFFFFFF PUSH1 0xA0 SHL CALLER DUP2 PUSH1 0x1 SLOAD AND OR PUSH1 0x1 SSTORE ADDRESS SWAP1 PUSH1 0x2 SLOAD AND OR PUSH1 0x2 SSTORE DUP1 RETURN JUMPDEST POP CALLVALUE PUSH2 0x8B JUMPI DUP1 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x8B JUMPI PUSH1 0x1 SLOAD PUSH1 0x40 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 SWAP2 AND DUP2 MSTORE PUSH1 0x20 SWAP1 RETURN JUMPDEST POP CALLVALUE PUSH2 0x8B JUMPI DUP1 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x8B JUMPI PUSH1 0x20 SWAP1 SLOAD PUSH1 0x40 MLOAD SWAP1 DUP2 MSTORE RETURN JUMPDEST SWAP1 POP CALLVALUE PUSH2 0x180 JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x180 JUMPI SWAP1 SLOAD PUSH1 0x1 SLOAD PUSH1 0x2 SLOAD SWAP2 DUP4 MSTORE PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 DUP2 AND PUSH1 0x20 DUP5 ADD MSTORE AND PUSH1 0x40 DUP3 ADD MSTORE PUSH1 0x60 SWAP1 RETURN JUMPDEST POP DUP1 REVERT INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 0xA7 INVALID NOT 0x4E MSTORE MLOAD PUSH20 0x7B974E04A6EEFB4EEE139CA6824498BB1C241879 0xBE 0xA5 SWAP4 0x24 0xB9 PUSH5 0x736F6C6343 STOP ADDMOD AND STOP CALLER ","sourceMap":"209:565:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;295:30;209:565;;;-1:-1:-1;;;;;209:565:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;558:19;209:565;;558:19;209:565;588:28;209:565;;588:28;209:565;;;;;;;;;;-1:-1:-1;;209:565:0;;;;;;;;;;;429:10;209:565;;;;;;;476:4;209:565;450:31;209:565;;;450:31;209:565;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;209:565:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;747:15;209:565;;;;-1:-1:-1;;;;;209:565:0;;;;;;;;;;;;;;;;;;"},"gasEstimates":{"creation":{"codeDepositCost":"88400","executionCost":"141","totalCost":"88541"},"external":{"contractAddress()":"2395","getCurrentState()":"6527","reset()":"53666","sender()":"2334","updateState(uint256)":"70760","value()":"2288"}},"methodIdentifiers":{"contractAddress()":"f6b4dfb4","getCurrentState()":"378aa701","reset()":"d826f88f","sender()":"67e404ce","updateState(uint256)":"cc8a55e2","value()":"3fa4f245"}},"metadata":"{\"compiler\":{\"version\":\"0.8.22+commit.4fc1097e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"contractAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentState\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"reset\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"sender\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"updateState\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"value\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"\\u7528\\u4e8e\\u6f14\\u793a call \\u548c delegatecall \\u7684\\u533a\\u522b\",\"kind\":\"dev\",\"methods\":{},\"title\":\"Call vs DelegateCall \\u6d4b\\u8bd5\\u5408\\u7ea6\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/test/CallDelegateCallTest.sol\":\"CallTestTarget\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[],\"viaIR\":true},\"sources\":{\"contracts/test/CallDelegateCallTest.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity ^0.8.0;\\r\\n\\r\\n/**\\r\\n * @title Call vs DelegateCall \\u6d4b\\u8bd5\\u5408\\u7ea6\\r\\n * @dev \\u7528\\u4e8e\\u6f14\\u793a call \\u548c delegatecall \\u7684\\u533a\\u522b\\r\\n */\\r\\n\\r\\n// \\u76ee\\u6807\\u5408\\u7ea6 - \\u5305\\u542b\\u4e1a\\u52a1\\u903b\\u8f91\\r\\ncontract CallTestTarget {\\r\\n    uint256 public value;\\r\\n    address public sender;\\r\\n    address public contractAddress;\\r\\n    \\r\\n    function updateState(uint256 _value) external {\\r\\n        value = _value;\\r\\n        sender = msg.sender;\\r\\n        contractAddress = address(this);\\r\\n    }\\r\\n    \\r\\n    function reset() external {\\r\\n        value = 0;\\r\\n        sender = address(0);\\r\\n        contractAddress = address(0);\\r\\n    }\\r\\n    \\r\\n    function getCurrentState() external view returns (uint256, address, address) {\\r\\n        return (value, sender, contractAddress);\\r\\n    }\\r\\n}\\r\\n\\r\\n// \\u8c03\\u7528\\u8005\\u5408\\u7ea6 - \\u6f14\\u793a\\u4e24\\u79cd\\u8c03\\u7528\\u65b9\\u5f0f\\r\\ncontract CallTestCaller {\\r\\n    uint256 public value;\\r\\n    address public sender;\\r\\n    address public contractAddress;\\r\\n    \\r\\n    // \\u4f7f\\u7528 call \\u8c03\\u7528\\u76ee\\u6807\\u5408\\u7ea6\\r\\n    function testCall(address target, uint256 _value) external {\\r\\n        (bool success, ) = target.call(\\r\\n            abi.encodeWithSignature(\\\"updateState(uint256)\\\", _value)\\r\\n        );\\r\\n        require(success, \\\"Call failed\\\");\\r\\n    }\\r\\n    \\r\\n    // \\u4f7f\\u7528 delegatecall \\u8c03\\u7528\\u76ee\\u6807\\u5408\\u7ea6\\r\\n    function testDelegateCall(address target, uint256 _value) external {\\r\\n        (bool success, ) = target.delegatecall(\\r\\n            abi.encodeWithSignature(\\\"updateState(uint256)\\\", _value)\\r\\n        );\\r\\n        require(success, \\\"DelegateCall failed\\\");\\r\\n    }\\r\\n    \\r\\n    function reset() external {\\r\\n        value = 0;\\r\\n        sender = address(0);\\r\\n        contractAddress = address(0);\\r\\n    }\\r\\n    \\r\\n    function getCurrentState() external view returns (uint256, address, address) {\\r\\n        return (value, sender, contractAddress);\\r\\n    }\\r\\n}\\r\\n\\r\\n// \\u7b80\\u5355\\u4ee3\\u7406\\u5408\\u7ea6 - \\u6f14\\u793a\\u4ee3\\u7406\\u6a21\\u5f0f\\r\\ncontract SimpleProxyDemo {\\r\\n    address private immutable implementation;\\r\\n    \\r\\n    constructor(address _implementation) {\\r\\n        implementation = _implementation;\\r\\n    }\\r\\n    \\r\\n    // \\u6240\\u6709\\u8c03\\u7528\\u90fd\\u8f6c\\u53d1\\u5230\\u5b9e\\u73b0\\u5408\\u7ea6\\r\\n    fallback() external payable {\\r\\n        address impl = implementation;\\r\\n        \\r\\n        assembly {\\r\\n            // \\u590d\\u5236 calldata\\r\\n            calldatacopy(0, 0, calldatasize())\\r\\n            \\r\\n            // delegatecall \\u5230\\u5b9e\\u73b0\\u5408\\u7ea6\\r\\n            let result := delegatecall(gas(), impl, 0, calldatasize(), 0, 0)\\r\\n            \\r\\n            // \\u590d\\u5236\\u8fd4\\u56de\\u6570\\u636e\\r\\n            returndatacopy(0, 0, returndatasize())\\r\\n            \\r\\n            // \\u6839\\u636e\\u7ed3\\u679c\\u8fd4\\u56de\\u6216\\u56de\\u6eda\\r\\n            switch result\\r\\n            case 0 {\\r\\n                revert(0, returndatasize())\\r\\n            }\\r\\n            default {\\r\\n                return(0, returndatasize())\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    receive() external payable {}\\r\\n}\\r\\n\\r\\n// \\u5b58\\u50a8\\u51b2\\u7a81\\u6f14\\u793a\\u5408\\u7ea6\\r\\ncontract StorageConflictDemo {\\r\\n    // \\u6f14\\u793a\\u5b58\\u50a8\\u69fd\\u51b2\\u7a81\\u95ee\\u9898\\r\\n    address public owner;        // slot 0\\r\\n    uint256 public value1;       // slot 1\\r\\n    uint256 public value2;       // slot 2\\r\\n    \\r\\n    mapping(address => uint256) public balances; // slot 3\\r\\n    \\r\\n    function setValues(uint256 _value1, uint256 _value2) external {\\r\\n        value1 = _value1;\\r\\n        value2 = _value2;\\r\\n    }\\r\\n    \\r\\n    function setBalance(address account, uint256 amount) external {\\r\\n        balances[account] = amount;\\r\\n    }\\r\\n}\\r\\n\\r\\n// EIP-1967 \\u6807\\u51c6\\u5b58\\u50a8\\u69fd\\u6f14\\u793a\\r\\ncontract EIP1967Demo {\\r\\n    // EIP-1967 \\u6807\\u51c6\\u5b58\\u50a8\\u69fd\\r\\n    bytes32 internal constant _IMPLEMENTATION_SLOT = 0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc;\\r\\n    bytes32 internal constant _ADMIN_SLOT = 0xb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103;\\r\\n    \\r\\n    // \\u5e38\\u89c4\\u5b58\\u50a8\\u53d8\\u91cf\\r\\n    uint256 public regularValue1;    // slot 0\\r\\n    uint256 public regularValue2;    // slot 1\\r\\n    address public regularAddress;   // slot 2\\r\\n    \\r\\n    function setImplementation(address newImplementation) external {\\r\\n        assembly {\\r\\n            sstore(_IMPLEMENTATION_SLOT, newImplementation)\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    function getImplementation() external view returns (address) {\\r\\n        assembly {\\r\\n            let impl := sload(_IMPLEMENTATION_SLOT)\\r\\n            mstore(0x00, impl)\\r\\n            return(0x00, 0x20)\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    function setAdmin(address newAdmin) external {\\r\\n        assembly {\\r\\n            sstore(_ADMIN_SLOT, newAdmin)\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    function getAdmin() external view returns (address) {\\r\\n        assembly {\\r\\n            let admin := sload(_ADMIN_SLOT)\\r\\n            mstore(0x00, admin)\\r\\n            return(0x00, 0x20)\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\\r\\n// \\u521d\\u59cb\\u5316\\u5668\\u6a21\\u5f0f\\u6f14\\u793a\\r\\ncontract InitializerDemo {\\r\\n    bool private initialized;\\r\\n    address public owner;\\r\\n    uint256 public value;\\r\\n    \\r\\n    modifier initializer() {\\r\\n        require(!initialized, \\\"Already initialized\\\");\\r\\n        _;\\r\\n        initialized = true;\\r\\n    }\\r\\n    \\r\\n    // \\u274c \\u9519\\u8bef\\uff1a\\u4f7f\\u7528\\u6784\\u9020\\u51fd\\u6570\\uff08\\u5728\\u4ee3\\u7406\\u6a21\\u5f0f\\u4e2d\\u4e0d\\u5de5\\u4f5c\\uff09\\r\\n    // constructor(address _owner, uint256 _value) {\\r\\n    //     owner = _owner;\\r\\n    //     value = _value;\\r\\n    // }\\r\\n    \\r\\n    // \\u2705 \\u6b63\\u786e\\uff1a\\u4f7f\\u7528\\u521d\\u59cb\\u5316\\u51fd\\u6570\\r\\n    function initialize(address _owner, uint256 _value) external initializer {\\r\\n        owner = _owner;\\r\\n        value = _value;\\r\\n    }\\r\\n    \\r\\n    function setValue(uint256 _value) external {\\r\\n        require(msg.sender == owner, \\\"Only owner\\\");\\r\\n        value = _value;\\r\\n    }\\r\\n}\",\"keccak256\":\"0xf8c3602278eb7b576253ae234ebad07238bdb4975c7ff6507a1f2ee82d5bf1b2\",\"license\":\"MIT\"}},\"version\":1}","storageLayout":{"storage":[{"astId":4,"contract":"contracts/test/CallDelegateCallTest.sol:CallTestTarget","label":"value","offset":0,"slot":"0","type":"t_uint256"},{"astId":6,"contract":"contracts/test/CallDelegateCallTest.sol:CallTestTarget","label":"sender","offset":0,"slot":"1","type":"t_address"},{"astId":8,"contract":"contracts/test/CallDelegateCallTest.sol:CallTestTarget","label":"contractAddress","offset":0,"slot":"2","type":"t_address"}],"types":{"t_address":{"encoding":"inplace","label":"address","numberOfBytes":"20"},"t_uint256":{"encoding":"inplace","label":"uint256","numberOfBytes":"32"}}},"userdoc":{"kind":"user","methods":{},"version":1}},"EIP1967Demo":{"abi":[{"inputs":[],"name":"getAdmin","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getImplementation","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"regularAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"regularValue1","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"regularValue2","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newAdmin","type":"address"}],"name":"setAdmin","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newImplementation","type":"address"}],"name":"setImplementation","outputs":[],"stateMutability":"nonpayable","type":"function"}],"devdoc":{"kind":"dev","methods":{},"version":1},"evm":{"bytecode":{"functionDebugData":{},"generatedSources":[],"linkReferences":{},"object":"6080806040523461001657610227908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b6000803560e01c908163502ac2401461008a575080636e9960c314610085578063704b6c0214610080578063aaf10f421461007b578063c1dd2c1014610076578063cbe50673146100715763d784d4261461006c57600080fd5b6101bf565b6101a1565b610178565b61013c565b61010a565b6100a7565b346100a457806003193601126100a4575460805260206080f35b80fd5b346100e35760003660031901126100e3577fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61035460005260206000f35b600080fd5b60209060031901126100e3576004356001600160a01b03811681036100e35790565b346100e357610118366100e8565b7fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d610355005b346100e35760003660031901126100e3577f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5460005260206000f35b346100e35760003660031901126100e3576002546040516001600160a01b039091168152602090f35b346100e35760003660031901126100e3576020600154604051908152f35b346100e3576101cd366100e8565b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5500fea26469706673582212208574851ef847c19526624ea24413da6d09277c0aa0067213d1d88f25080b94b964736f6c63430008160033","opcodes":"PUSH1 0x80 DUP1 PUSH1 0x40 MSTORE CALLVALUE PUSH2 0x16 JUMPI PUSH2 0x227 SWAP1 DUP2 PUSH2 0x1C DUP3 CODECOPY RETURN JUMPDEST PUSH1 0x0 DUP1 REVERT INVALID PUSH1 0x80 PUSH1 0x40 MSTORE PUSH1 0x4 CALLDATASIZE LT ISZERO PUSH2 0x12 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 DUP1 CALLDATALOAD PUSH1 0xE0 SHR SWAP1 DUP2 PUSH4 0x502AC240 EQ PUSH2 0x8A JUMPI POP DUP1 PUSH4 0x6E9960C3 EQ PUSH2 0x85 JUMPI DUP1 PUSH4 0x704B6C02 EQ PUSH2 0x80 JUMPI DUP1 PUSH4 0xAAF10F42 EQ PUSH2 0x7B JUMPI DUP1 PUSH4 0xC1DD2C10 EQ PUSH2 0x76 JUMPI DUP1 PUSH4 0xCBE50673 EQ PUSH2 0x71 JUMPI PUSH4 0xD784D426 EQ PUSH2 0x6C JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH2 0x1BF JUMP JUMPDEST PUSH2 0x1A1 JUMP JUMPDEST PUSH2 0x178 JUMP JUMPDEST PUSH2 0x13C JUMP JUMPDEST PUSH2 0x10A JUMP JUMPDEST PUSH2 0xA7 JUMP JUMPDEST CALLVALUE PUSH2 0xA4 JUMPI DUP1 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0xA4 JUMPI SLOAD PUSH1 0x80 MSTORE PUSH1 0x20 PUSH1 0x80 RETURN JUMPDEST DUP1 REVERT JUMPDEST CALLVALUE PUSH2 0xE3 JUMPI PUSH1 0x0 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0xE3 JUMPI PUSH32 0xB53127684A568B3173AE13B9F8A6016E243E63B6E8EE1178D6A717850B5D6103 SLOAD PUSH1 0x0 MSTORE PUSH1 0x20 PUSH1 0x0 RETURN JUMPDEST PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x20 SWAP1 PUSH1 0x3 NOT ADD SLT PUSH2 0xE3 JUMPI PUSH1 0x4 CALLDATALOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP2 AND DUP2 SUB PUSH2 0xE3 JUMPI SWAP1 JUMP JUMPDEST CALLVALUE PUSH2 0xE3 JUMPI PUSH2 0x118 CALLDATASIZE PUSH2 0xE8 JUMP JUMPDEST PUSH32 0xB53127684A568B3173AE13B9F8A6016E243E63B6E8EE1178D6A717850B5D6103 SSTORE STOP JUMPDEST CALLVALUE PUSH2 0xE3 JUMPI PUSH1 0x0 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0xE3 JUMPI PUSH32 0x360894A13BA1A3210667C828492DB98DCA3E2076CC3735A920A3CA505D382BBC SLOAD PUSH1 0x0 MSTORE PUSH1 0x20 PUSH1 0x0 RETURN JUMPDEST CALLVALUE PUSH2 0xE3 JUMPI PUSH1 0x0 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0xE3 JUMPI PUSH1 0x2 SLOAD PUSH1 0x40 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 SWAP2 AND DUP2 MSTORE PUSH1 0x20 SWAP1 RETURN JUMPDEST CALLVALUE PUSH2 0xE3 JUMPI PUSH1 0x0 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0xE3 JUMPI PUSH1 0x20 PUSH1 0x1 SLOAD PUSH1 0x40 MLOAD SWAP1 DUP2 MSTORE RETURN JUMPDEST CALLVALUE PUSH2 0xE3 JUMPI PUSH2 0x1CD CALLDATASIZE PUSH2 0xE8 JUMP JUMPDEST PUSH32 0x360894A13BA1A3210667C828492DB98DCA3E2076CC3735A920A3CA505D382BBC SSTORE STOP INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 DUP6 PUSH21 0x851EF847C19526624EA24413DA6D09277C0AA00672 SGT 0xD1 0xD8 DUP16 0x25 ADDMOD SIGNEXTEND SWAP5 0xB9 PUSH5 0x736F6C6343 STOP ADDMOD AND STOP CALLER ","sourceMap":"3424:1226:0:-:0;;;;;;;;;;;;;;;;;"},"deployedBytecode":{"functionDebugData":{"abi_decode_address":{"entryPoint":232,"id":null,"parameterSlots":1,"returnSlots":1},"external_fun_getAdmin":{"entryPoint":167,"id":null,"parameterSlots":0,"returnSlots":0},"external_fun_getImplementation":{"entryPoint":316,"id":null,"parameterSlots":0,"returnSlots":0},"external_fun_regularAddress":{"entryPoint":376,"id":null,"parameterSlots":0,"returnSlots":0},"external_fun_regularValue2":{"entryPoint":417,"id":null,"parameterSlots":0,"returnSlots":0},"external_fun_setAdmin":{"entryPoint":266,"id":null,"parameterSlots":0,"returnSlots":0},"external_fun_setImplementation":{"entryPoint":447,"id":null,"parameterSlots":0,"returnSlots":0}},"generatedSources":[],"immutableReferences":{},"linkReferences":{},"object":"6080604052600436101561001257600080fd5b6000803560e01c908163502ac2401461008a575080636e9960c314610085578063704b6c0214610080578063aaf10f421461007b578063c1dd2c1014610076578063cbe50673146100715763d784d4261461006c57600080fd5b6101bf565b6101a1565b610178565b61013c565b61010a565b6100a7565b346100a457806003193601126100a4575460805260206080f35b80fd5b346100e35760003660031901126100e3577fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61035460005260206000f35b600080fd5b60209060031901126100e3576004356001600160a01b03811681036100e35790565b346100e357610118366100e8565b7fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d610355005b346100e35760003660031901126100e3577f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5460005260206000f35b346100e35760003660031901126100e3576002546040516001600160a01b039091168152602090f35b346100e35760003660031901126100e3576020600154604051908152f35b346100e3576101cd366100e8565b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5500fea26469706673582212208574851ef847c19526624ea24413da6d09277c0aa0067213d1d88f25080b94b964736f6c63430008160033","opcodes":"PUSH1 0x80 PUSH1 0x40 MSTORE PUSH1 0x4 CALLDATASIZE LT ISZERO PUSH2 0x12 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 DUP1 CALLDATALOAD PUSH1 0xE0 SHR SWAP1 DUP2 PUSH4 0x502AC240 EQ PUSH2 0x8A JUMPI POP DUP1 PUSH4 0x6E9960C3 EQ PUSH2 0x85 JUMPI DUP1 PUSH4 0x704B6C02 EQ PUSH2 0x80 JUMPI DUP1 PUSH4 0xAAF10F42 EQ PUSH2 0x7B JUMPI DUP1 PUSH4 0xC1DD2C10 EQ PUSH2 0x76 JUMPI DUP1 PUSH4 0xCBE50673 EQ PUSH2 0x71 JUMPI PUSH4 0xD784D426 EQ PUSH2 0x6C JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH2 0x1BF JUMP JUMPDEST PUSH2 0x1A1 JUMP JUMPDEST PUSH2 0x178 JUMP JUMPDEST PUSH2 0x13C JUMP JUMPDEST PUSH2 0x10A JUMP JUMPDEST PUSH2 0xA7 JUMP JUMPDEST CALLVALUE PUSH2 0xA4 JUMPI DUP1 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0xA4 JUMPI SLOAD PUSH1 0x80 MSTORE PUSH1 0x20 PUSH1 0x80 RETURN JUMPDEST DUP1 REVERT JUMPDEST CALLVALUE PUSH2 0xE3 JUMPI PUSH1 0x0 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0xE3 JUMPI PUSH32 0xB53127684A568B3173AE13B9F8A6016E243E63B6E8EE1178D6A717850B5D6103 SLOAD PUSH1 0x0 MSTORE PUSH1 0x20 PUSH1 0x0 RETURN JUMPDEST PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x20 SWAP1 PUSH1 0x3 NOT ADD SLT PUSH2 0xE3 JUMPI PUSH1 0x4 CALLDATALOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP2 AND DUP2 SUB PUSH2 0xE3 JUMPI SWAP1 JUMP JUMPDEST CALLVALUE PUSH2 0xE3 JUMPI PUSH2 0x118 CALLDATASIZE PUSH2 0xE8 JUMP JUMPDEST PUSH32 0xB53127684A568B3173AE13B9F8A6016E243E63B6E8EE1178D6A717850B5D6103 SSTORE STOP JUMPDEST CALLVALUE PUSH2 0xE3 JUMPI PUSH1 0x0 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0xE3 JUMPI PUSH32 0x360894A13BA1A3210667C828492DB98DCA3E2076CC3735A920A3CA505D382BBC SLOAD PUSH1 0x0 MSTORE PUSH1 0x20 PUSH1 0x0 RETURN JUMPDEST CALLVALUE PUSH2 0xE3 JUMPI PUSH1 0x0 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0xE3 JUMPI PUSH1 0x2 SLOAD PUSH1 0x40 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 SWAP2 AND DUP2 MSTORE PUSH1 0x20 SWAP1 RETURN JUMPDEST CALLVALUE PUSH2 0xE3 JUMPI PUSH1 0x0 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0xE3 JUMPI PUSH1 0x20 PUSH1 0x1 SLOAD PUSH1 0x40 MLOAD SWAP1 DUP2 MSTORE RETURN JUMPDEST CALLVALUE PUSH2 0xE3 JUMPI PUSH2 0x1CD CALLDATASIZE PUSH2 0xE8 JUMP JUMPDEST PUSH32 0x360894A13BA1A3210667C828492DB98DCA3E2076CC3735A920A3CA505D382BBC SSTORE STOP INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 DUP6 PUSH21 0x851EF847C19526624EA24413DA6D09277C0AA00672 SGT 0xD1 0xD8 DUP16 0x25 ADDMOD SIGNEXTEND SWAP5 0xB9 PUSH5 0x736F6C6343 STOP ADDMOD AND STOP CALLER ","sourceMap":"3424:1226:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;:::i;:::-;;:::i;:::-;;:::i;:::-;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;3424:1226:0;;;;4509:131;;3424:1226;4509:131;;3424:1226;4509:131;3424:1226;;;;;;;;;;;;;;;-1:-1:-1;;;;;3424:1226:0;;;;;;;:::o;:::-;;;;;;;:::i;:::-;4363:64;;3424:1226;;;;;;;-1:-1:-1;;3424:1226:0;;;;4150:138;;3424:1226;4150:138;;3424:1226;4150:138;3424:1226;;;;;;-1:-1:-1;;3424:1226:0;;;;3849:29;3424:1226;;;-1:-1:-1;;;;;3424:1226:0;;;;;;;;;;;;;;-1:-1:-1;;3424:1226:0;;;;;3801:28;3424:1226;;;;;;;;;;;;;;:::i;:::-;3977:82;;3424:1226"},"gasEstimates":{"creation":{"codeDepositCost":"110200","executionCost":"165","totalCost":"110365"},"external":{"getAdmin()":"2280","getImplementation()":"2324","regularAddress()":"2382","regularValue1()":"2247","regularValue2()":"2380","setAdmin(address)":"22366","setImplementation(address)":"22451"}},"methodIdentifiers":{"getAdmin()":"6e9960c3","getImplementation()":"aaf10f42","regularAddress()":"c1dd2c10","regularValue1()":"502ac240","regularValue2()":"cbe50673","setAdmin(address)":"704b6c02","setImplementation(address)":"d784d426"}},"metadata":"{\"compiler\":{\"version\":\"0.8.22+commit.4fc1097e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"getAdmin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getImplementation\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"regularAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"regularValue1\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"regularValue2\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newAdmin\",\"type\":\"address\"}],\"name\":\"setAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newImplementation\",\"type\":\"address\"}],\"name\":\"setImplementation\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/test/CallDelegateCallTest.sol\":\"EIP1967Demo\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[],\"viaIR\":true},\"sources\":{\"contracts/test/CallDelegateCallTest.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity ^0.8.0;\\r\\n\\r\\n/**\\r\\n * @title Call vs DelegateCall \\u6d4b\\u8bd5\\u5408\\u7ea6\\r\\n * @dev \\u7528\\u4e8e\\u6f14\\u793a call \\u548c delegatecall \\u7684\\u533a\\u522b\\r\\n */\\r\\n\\r\\n// \\u76ee\\u6807\\u5408\\u7ea6 - \\u5305\\u542b\\u4e1a\\u52a1\\u903b\\u8f91\\r\\ncontract CallTestTarget {\\r\\n    uint256 public value;\\r\\n    address public sender;\\r\\n    address public contractAddress;\\r\\n    \\r\\n    function updateState(uint256 _value) external {\\r\\n        value = _value;\\r\\n        sender = msg.sender;\\r\\n        contractAddress = address(this);\\r\\n    }\\r\\n    \\r\\n    function reset() external {\\r\\n        value = 0;\\r\\n        sender = address(0);\\r\\n        contractAddress = address(0);\\r\\n    }\\r\\n    \\r\\n    function getCurrentState() external view returns (uint256, address, address) {\\r\\n        return (value, sender, contractAddress);\\r\\n    }\\r\\n}\\r\\n\\r\\n// \\u8c03\\u7528\\u8005\\u5408\\u7ea6 - \\u6f14\\u793a\\u4e24\\u79cd\\u8c03\\u7528\\u65b9\\u5f0f\\r\\ncontract CallTestCaller {\\r\\n    uint256 public value;\\r\\n    address public sender;\\r\\n    address public contractAddress;\\r\\n    \\r\\n    // \\u4f7f\\u7528 call \\u8c03\\u7528\\u76ee\\u6807\\u5408\\u7ea6\\r\\n    function testCall(address target, uint256 _value) external {\\r\\n        (bool success, ) = target.call(\\r\\n            abi.encodeWithSignature(\\\"updateState(uint256)\\\", _value)\\r\\n        );\\r\\n        require(success, \\\"Call failed\\\");\\r\\n    }\\r\\n    \\r\\n    // \\u4f7f\\u7528 delegatecall \\u8c03\\u7528\\u76ee\\u6807\\u5408\\u7ea6\\r\\n    function testDelegateCall(address target, uint256 _value) external {\\r\\n        (bool success, ) = target.delegatecall(\\r\\n            abi.encodeWithSignature(\\\"updateState(uint256)\\\", _value)\\r\\n        );\\r\\n        require(success, \\\"DelegateCall failed\\\");\\r\\n    }\\r\\n    \\r\\n    function reset() external {\\r\\n        value = 0;\\r\\n        sender = address(0);\\r\\n        contractAddress = address(0);\\r\\n    }\\r\\n    \\r\\n    function getCurrentState() external view returns (uint256, address, address) {\\r\\n        return (value, sender, contractAddress);\\r\\n    }\\r\\n}\\r\\n\\r\\n// \\u7b80\\u5355\\u4ee3\\u7406\\u5408\\u7ea6 - \\u6f14\\u793a\\u4ee3\\u7406\\u6a21\\u5f0f\\r\\ncontract SimpleProxyDemo {\\r\\n    address private immutable implementation;\\r\\n    \\r\\n    constructor(address _implementation) {\\r\\n        implementation = _implementation;\\r\\n    }\\r\\n    \\r\\n    // \\u6240\\u6709\\u8c03\\u7528\\u90fd\\u8f6c\\u53d1\\u5230\\u5b9e\\u73b0\\u5408\\u7ea6\\r\\n    fallback() external payable {\\r\\n        address impl = implementation;\\r\\n        \\r\\n        assembly {\\r\\n            // \\u590d\\u5236 calldata\\r\\n            calldatacopy(0, 0, calldatasize())\\r\\n            \\r\\n            // delegatecall \\u5230\\u5b9e\\u73b0\\u5408\\u7ea6\\r\\n            let result := delegatecall(gas(), impl, 0, calldatasize(), 0, 0)\\r\\n            \\r\\n            // \\u590d\\u5236\\u8fd4\\u56de\\u6570\\u636e\\r\\n            returndatacopy(0, 0, returndatasize())\\r\\n            \\r\\n            // \\u6839\\u636e\\u7ed3\\u679c\\u8fd4\\u56de\\u6216\\u56de\\u6eda\\r\\n            switch result\\r\\n            case 0 {\\r\\n                revert(0, returndatasize())\\r\\n            }\\r\\n            default {\\r\\n                return(0, returndatasize())\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    receive() external payable {}\\r\\n}\\r\\n\\r\\n// \\u5b58\\u50a8\\u51b2\\u7a81\\u6f14\\u793a\\u5408\\u7ea6\\r\\ncontract StorageConflictDemo {\\r\\n    // \\u6f14\\u793a\\u5b58\\u50a8\\u69fd\\u51b2\\u7a81\\u95ee\\u9898\\r\\n    address public owner;        // slot 0\\r\\n    uint256 public value1;       // slot 1\\r\\n    uint256 public value2;       // slot 2\\r\\n    \\r\\n    mapping(address => uint256) public balances; // slot 3\\r\\n    \\r\\n    function setValues(uint256 _value1, uint256 _value2) external {\\r\\n        value1 = _value1;\\r\\n        value2 = _value2;\\r\\n    }\\r\\n    \\r\\n    function setBalance(address account, uint256 amount) external {\\r\\n        balances[account] = amount;\\r\\n    }\\r\\n}\\r\\n\\r\\n// EIP-1967 \\u6807\\u51c6\\u5b58\\u50a8\\u69fd\\u6f14\\u793a\\r\\ncontract EIP1967Demo {\\r\\n    // EIP-1967 \\u6807\\u51c6\\u5b58\\u50a8\\u69fd\\r\\n    bytes32 internal constant _IMPLEMENTATION_SLOT = 0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc;\\r\\n    bytes32 internal constant _ADMIN_SLOT = 0xb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103;\\r\\n    \\r\\n    // \\u5e38\\u89c4\\u5b58\\u50a8\\u53d8\\u91cf\\r\\n    uint256 public regularValue1;    // slot 0\\r\\n    uint256 public regularValue2;    // slot 1\\r\\n    address public regularAddress;   // slot 2\\r\\n    \\r\\n    function setImplementation(address newImplementation) external {\\r\\n        assembly {\\r\\n            sstore(_IMPLEMENTATION_SLOT, newImplementation)\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    function getImplementation() external view returns (address) {\\r\\n        assembly {\\r\\n            let impl := sload(_IMPLEMENTATION_SLOT)\\r\\n            mstore(0x00, impl)\\r\\n            return(0x00, 0x20)\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    function setAdmin(address newAdmin) external {\\r\\n        assembly {\\r\\n            sstore(_ADMIN_SLOT, newAdmin)\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    function getAdmin() external view returns (address) {\\r\\n        assembly {\\r\\n            let admin := sload(_ADMIN_SLOT)\\r\\n            mstore(0x00, admin)\\r\\n            return(0x00, 0x20)\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\\r\\n// \\u521d\\u59cb\\u5316\\u5668\\u6a21\\u5f0f\\u6f14\\u793a\\r\\ncontract InitializerDemo {\\r\\n    bool private initialized;\\r\\n    address public owner;\\r\\n    uint256 public value;\\r\\n    \\r\\n    modifier initializer() {\\r\\n        require(!initialized, \\\"Already initialized\\\");\\r\\n        _;\\r\\n        initialized = true;\\r\\n    }\\r\\n    \\r\\n    // \\u274c \\u9519\\u8bef\\uff1a\\u4f7f\\u7528\\u6784\\u9020\\u51fd\\u6570\\uff08\\u5728\\u4ee3\\u7406\\u6a21\\u5f0f\\u4e2d\\u4e0d\\u5de5\\u4f5c\\uff09\\r\\n    // constructor(address _owner, uint256 _value) {\\r\\n    //     owner = _owner;\\r\\n    //     value = _value;\\r\\n    // }\\r\\n    \\r\\n    // \\u2705 \\u6b63\\u786e\\uff1a\\u4f7f\\u7528\\u521d\\u59cb\\u5316\\u51fd\\u6570\\r\\n    function initialize(address _owner, uint256 _value) external initializer {\\r\\n        owner = _owner;\\r\\n        value = _value;\\r\\n    }\\r\\n    \\r\\n    function setValue(uint256 _value) external {\\r\\n        require(msg.sender == owner, \\\"Only owner\\\");\\r\\n        value = _value;\\r\\n    }\\r\\n}\",\"keccak256\":\"0xf8c3602278eb7b576253ae234ebad07238bdb4975c7ff6507a1f2ee82d5bf1b2\",\"license\":\"MIT\"}},\"version\":1}","storageLayout":{"storage":[{"astId":235,"contract":"contracts/test/CallDelegateCallTest.sol:EIP1967Demo","label":"regularValue1","offset":0,"slot":"0","type":"t_uint256"},{"astId":237,"contract":"contracts/test/CallDelegateCallTest.sol:EIP1967Demo","label":"regularValue2","offset":0,"slot":"1","type":"t_uint256"},{"astId":239,"contract":"contracts/test/CallDelegateCallTest.sol:EIP1967Demo","label":"regularAddress","offset":0,"slot":"2","type":"t_address"}],"types":{"t_address":{"encoding":"inplace","label":"address","numberOfBytes":"20"},"t_uint256":{"encoding":"inplace","label":"uint256","numberOfBytes":"32"}}},"userdoc":{"kind":"user","methods":{},"version":1}},"InitializerDemo":{"abi":[{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"setValue","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"value","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}],"devdoc":{"kind":"dev","methods":{},"version":1},"evm":{"bytecode":{"functionDebugData":{},"generatedSources":[],"linkReferences":{},"object":"60808060405234610016576101c8908161001c8239f35b600080fdfe608080604052600436101561001357600080fd5b600090813560e01c9081633fa4f245146101765750806355241077146101155780638da5cb5b146100ea5763cd6dc6871461004d57600080fd5b346100e75760403660031901126100e7576004356001600160a01b03811681036100e357815460ff81166100a85760019160243583556101008360a81b039060081b16906affffffffffffffffffffff60a81b161717815580f35b60405162461bcd60e51b8152602060048201526013602482015272105b1c9958591e481a5b9a5d1a585b1a5e9959606a1b6044820152606490fd5b5080fd5b80fd5b50346100e757806003193601126100e7575460405160089190911c6001600160a01b03168152602090f35b50346100e75760203660031901126100e757805460081c6001600160a01b031633036101445760043560015580f35b60405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b6044820152606490fd5b9050346100e357816003193601126100e3576020906001548152f3fea264697066735822122053fb18b6167d4376a903aa230dada5793cd4a2f09071e576a132d5594171ec8564736f6c63430008160033","opcodes":"PUSH1 0x80 DUP1 PUSH1 0x40 MSTORE CALLVALUE PUSH2 0x16 JUMPI PUSH2 0x1C8 SWAP1 DUP2 PUSH2 0x1C DUP3 CODECOPY RETURN JUMPDEST PUSH1 0x0 DUP1 REVERT INVALID PUSH1 0x80 DUP1 PUSH1 0x40 MSTORE PUSH1 0x4 CALLDATASIZE LT ISZERO PUSH2 0x13 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 SWAP1 DUP2 CALLDATALOAD PUSH1 0xE0 SHR SWAP1 DUP2 PUSH4 0x3FA4F245 EQ PUSH2 0x176 JUMPI POP DUP1 PUSH4 0x55241077 EQ PUSH2 0x115 JUMPI DUP1 PUSH4 0x8DA5CB5B EQ PUSH2 0xEA JUMPI PUSH4 0xCD6DC687 EQ PUSH2 0x4D JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST CALLVALUE PUSH2 0xE7 JUMPI PUSH1 0x40 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0xE7 JUMPI PUSH1 0x4 CALLDATALOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP2 AND DUP2 SUB PUSH2 0xE3 JUMPI DUP2 SLOAD PUSH1 0xFF DUP2 AND PUSH2 0xA8 JUMPI PUSH1 0x1 SWAP2 PUSH1 0x24 CALLDATALOAD DUP4 SSTORE PUSH2 0x100 DUP4 PUSH1 0xA8 SHL SUB SWAP1 PUSH1 0x8 SHL AND SWAP1 PUSH11 0xFFFFFFFFFFFFFFFFFFFFFF PUSH1 0xA8 SHL AND OR OR DUP2 SSTORE DUP1 RETURN JUMPDEST PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x13 PUSH1 0x24 DUP3 ADD MSTORE PUSH19 0x105B1C9958591E481A5B9A5D1A585B1A5E9959 PUSH1 0x6A SHL PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 SWAP1 REVERT JUMPDEST POP DUP1 REVERT JUMPDEST DUP1 REVERT JUMPDEST POP CALLVALUE PUSH2 0xE7 JUMPI DUP1 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0xE7 JUMPI SLOAD PUSH1 0x40 MLOAD PUSH1 0x8 SWAP2 SWAP1 SWAP2 SHR PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND DUP2 MSTORE PUSH1 0x20 SWAP1 RETURN JUMPDEST POP CALLVALUE PUSH2 0xE7 JUMPI PUSH1 0x20 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0xE7 JUMPI DUP1 SLOAD PUSH1 0x8 SHR PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND CALLER SUB PUSH2 0x144 JUMPI PUSH1 0x4 CALLDATALOAD PUSH1 0x1 SSTORE DUP1 RETURN JUMPDEST PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0xA PUSH1 0x24 DUP3 ADD MSTORE PUSH10 0x27B7363C9037BBB732B9 PUSH1 0xB1 SHL PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 SWAP1 REVERT JUMPDEST SWAP1 POP CALLVALUE PUSH2 0xE3 JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0xE3 JUMPI PUSH1 0x20 SWAP1 PUSH1 0x1 SLOAD DUP2 MSTORE RETURN INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 MSTORE8 0xFB XOR 0xB6 AND PUSH30 0x4376A903AA230DADA5793CD4A2F09071E576A132D5594171EC8564736F6C PUSH4 0x43000816 STOP CALLER ","sourceMap":"4683:779:0:-:0;;;;;;;;;;;;;;;;;"},"deployedBytecode":{"functionDebugData":{},"generatedSources":[],"immutableReferences":{},"linkReferences":{},"object":"608080604052600436101561001357600080fd5b600090813560e01c9081633fa4f245146101765750806355241077146101155780638da5cb5b146100ea5763cd6dc6871461004d57600080fd5b346100e75760403660031901126100e7576004356001600160a01b03811681036100e357815460ff81166100a85760019160243583556101008360a81b039060081b16906affffffffffffffffffffff60a81b161717815580f35b60405162461bcd60e51b8152602060048201526013602482015272105b1c9958591e481a5b9a5d1a585b1a5e9959606a1b6044820152606490fd5b5080fd5b80fd5b50346100e757806003193601126100e7575460405160089190911c6001600160a01b03168152602090f35b50346100e75760203660031901126100e757805460081c6001600160a01b031633036101445760043560015580f35b60405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b6044820152606490fd5b9050346100e357816003193601126100e3576020906001548152f3fea264697066735822122053fb18b6167d4376a903aa230dada5793cd4a2f09071e576a132d5594171ec8564736f6c63430008160033","opcodes":"PUSH1 0x80 DUP1 PUSH1 0x40 MSTORE PUSH1 0x4 CALLDATASIZE LT ISZERO PUSH2 0x13 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 SWAP1 DUP2 CALLDATALOAD PUSH1 0xE0 SHR SWAP1 DUP2 PUSH4 0x3FA4F245 EQ PUSH2 0x176 JUMPI POP DUP1 PUSH4 0x55241077 EQ PUSH2 0x115 JUMPI DUP1 PUSH4 0x8DA5CB5B EQ PUSH2 0xEA JUMPI PUSH4 0xCD6DC687 EQ PUSH2 0x4D JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST CALLVALUE PUSH2 0xE7 JUMPI PUSH1 0x40 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0xE7 JUMPI PUSH1 0x4 CALLDATALOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP2 AND DUP2 SUB PUSH2 0xE3 JUMPI DUP2 SLOAD PUSH1 0xFF DUP2 AND PUSH2 0xA8 JUMPI PUSH1 0x1 SWAP2 PUSH1 0x24 CALLDATALOAD DUP4 SSTORE PUSH2 0x100 DUP4 PUSH1 0xA8 SHL SUB SWAP1 PUSH1 0x8 SHL AND SWAP1 PUSH11 0xFFFFFFFFFFFFFFFFFFFFFF PUSH1 0xA8 SHL AND OR OR DUP2 SSTORE DUP1 RETURN JUMPDEST PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x13 PUSH1 0x24 DUP3 ADD MSTORE PUSH19 0x105B1C9958591E481A5B9A5D1A585B1A5E9959 PUSH1 0x6A SHL PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 SWAP1 REVERT JUMPDEST POP DUP1 REVERT JUMPDEST DUP1 REVERT JUMPDEST POP CALLVALUE PUSH2 0xE7 JUMPI DUP1 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0xE7 JUMPI SLOAD PUSH1 0x40 MLOAD PUSH1 0x8 SWAP2 SWAP1 SWAP2 SHR PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND DUP2 MSTORE PUSH1 0x20 SWAP1 RETURN JUMPDEST POP CALLVALUE PUSH2 0xE7 JUMPI PUSH1 0x20 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0xE7 JUMPI DUP1 SLOAD PUSH1 0x8 SHR PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND CALLER SUB PUSH2 0x144 JUMPI PUSH1 0x4 CALLDATALOAD PUSH1 0x1 SSTORE DUP1 RETURN JUMPDEST PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0xA PUSH1 0x24 DUP3 ADD MSTORE PUSH10 0x27B7363C9037BBB732B9 PUSH1 0xB1 SHL PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 SWAP1 REVERT JUMPDEST SWAP1 POP CALLVALUE PUSH2 0xE3 JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0xE3 JUMPI PUSH1 0x20 SWAP1 PUSH1 0x1 SLOAD DUP2 MSTORE RETURN INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 MSTORE8 0xFB XOR 0xB6 AND PUSH30 0x4376A903AA230DADA5793CD4A2F09071E576A132D5594171EC8564736F6C PUSH4 0x43000816 STOP CALLER ","sourceMap":"4683:779:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;4683:779:0;;;;;;-1:-1:-1;;;;;4683:779:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;4683:779:0;;;;;;;;;;;;-1:-1:-1;;;4683:779:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;4683:779:0;;;;;;;;;;;;;-1:-1:-1;;4683:779:0;;;;;;;;-1:-1:-1;;;;;4683:779:0;5392:10;:19;4683:779;;;;;;;;;;;-1:-1:-1;;;4683:779:0;;;;;;;;;;;;-1:-1:-1;;;4683:779:0;;;;;;;;;;;;;;;;;;;;;;;4773:20;4683:779;;;"},"gasEstimates":{"creation":{"codeDepositCost":"91200","executionCost":"147","totalCost":"91347"},"external":{"initialize(address,uint256)":"46640","owner()":"2340","setValue(uint256)":"24418","value()":"2261"}},"methodIdentifiers":{"initialize(address,uint256)":"cd6dc687","owner()":"8da5cb5b","setValue(uint256)":"55241077","value()":"3fa4f245"}},"metadata":"{\"compiler\":{\"version\":\"0.8.22+commit.4fc1097e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"setValue\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"value\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/test/CallDelegateCallTest.sol\":\"InitializerDemo\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[],\"viaIR\":true},\"sources\":{\"contracts/test/CallDelegateCallTest.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity ^0.8.0;\\r\\n\\r\\n/**\\r\\n * @title Call vs DelegateCall \\u6d4b\\u8bd5\\u5408\\u7ea6\\r\\n * @dev \\u7528\\u4e8e\\u6f14\\u793a call \\u548c delegatecall \\u7684\\u533a\\u522b\\r\\n */\\r\\n\\r\\n// \\u76ee\\u6807\\u5408\\u7ea6 - \\u5305\\u542b\\u4e1a\\u52a1\\u903b\\u8f91\\r\\ncontract CallTestTarget {\\r\\n    uint256 public value;\\r\\n    address public sender;\\r\\n    address public contractAddress;\\r\\n    \\r\\n    function updateState(uint256 _value) external {\\r\\n        value = _value;\\r\\n        sender = msg.sender;\\r\\n        contractAddress = address(this);\\r\\n    }\\r\\n    \\r\\n    function reset() external {\\r\\n        value = 0;\\r\\n        sender = address(0);\\r\\n        contractAddress = address(0);\\r\\n    }\\r\\n    \\r\\n    function getCurrentState() external view returns (uint256, address, address) {\\r\\n        return (value, sender, contractAddress);\\r\\n    }\\r\\n}\\r\\n\\r\\n// \\u8c03\\u7528\\u8005\\u5408\\u7ea6 - \\u6f14\\u793a\\u4e24\\u79cd\\u8c03\\u7528\\u65b9\\u5f0f\\r\\ncontract CallTestCaller {\\r\\n    uint256 public value;\\r\\n    address public sender;\\r\\n    address public contractAddress;\\r\\n    \\r\\n    // \\u4f7f\\u7528 call \\u8c03\\u7528\\u76ee\\u6807\\u5408\\u7ea6\\r\\n    function testCall(address target, uint256 _value) external {\\r\\n        (bool success, ) = target.call(\\r\\n            abi.encodeWithSignature(\\\"updateState(uint256)\\\", _value)\\r\\n        );\\r\\n        require(success, \\\"Call failed\\\");\\r\\n    }\\r\\n    \\r\\n    // \\u4f7f\\u7528 delegatecall \\u8c03\\u7528\\u76ee\\u6807\\u5408\\u7ea6\\r\\n    function testDelegateCall(address target, uint256 _value) external {\\r\\n        (bool success, ) = target.delegatecall(\\r\\n            abi.encodeWithSignature(\\\"updateState(uint256)\\\", _value)\\r\\n        );\\r\\n        require(success, \\\"DelegateCall failed\\\");\\r\\n    }\\r\\n    \\r\\n    function reset() external {\\r\\n        value = 0;\\r\\n        sender = address(0);\\r\\n        contractAddress = address(0);\\r\\n    }\\r\\n    \\r\\n    function getCurrentState() external view returns (uint256, address, address) {\\r\\n        return (value, sender, contractAddress);\\r\\n    }\\r\\n}\\r\\n\\r\\n// \\u7b80\\u5355\\u4ee3\\u7406\\u5408\\u7ea6 - \\u6f14\\u793a\\u4ee3\\u7406\\u6a21\\u5f0f\\r\\ncontract SimpleProxyDemo {\\r\\n    address private immutable implementation;\\r\\n    \\r\\n    constructor(address _implementation) {\\r\\n        implementation = _implementation;\\r\\n    }\\r\\n    \\r\\n    // \\u6240\\u6709\\u8c03\\u7528\\u90fd\\u8f6c\\u53d1\\u5230\\u5b9e\\u73b0\\u5408\\u7ea6\\r\\n    fallback() external payable {\\r\\n        address impl = implementation;\\r\\n        \\r\\n        assembly {\\r\\n            // \\u590d\\u5236 calldata\\r\\n            calldatacopy(0, 0, calldatasize())\\r\\n            \\r\\n            // delegatecall \\u5230\\u5b9e\\u73b0\\u5408\\u7ea6\\r\\n            let result := delegatecall(gas(), impl, 0, calldatasize(), 0, 0)\\r\\n            \\r\\n            // \\u590d\\u5236\\u8fd4\\u56de\\u6570\\u636e\\r\\n            returndatacopy(0, 0, returndatasize())\\r\\n            \\r\\n            // \\u6839\\u636e\\u7ed3\\u679c\\u8fd4\\u56de\\u6216\\u56de\\u6eda\\r\\n            switch result\\r\\n            case 0 {\\r\\n                revert(0, returndatasize())\\r\\n            }\\r\\n            default {\\r\\n                return(0, returndatasize())\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    receive() external payable {}\\r\\n}\\r\\n\\r\\n// \\u5b58\\u50a8\\u51b2\\u7a81\\u6f14\\u793a\\u5408\\u7ea6\\r\\ncontract StorageConflictDemo {\\r\\n    // \\u6f14\\u793a\\u5b58\\u50a8\\u69fd\\u51b2\\u7a81\\u95ee\\u9898\\r\\n    address public owner;        // slot 0\\r\\n    uint256 public value1;       // slot 1\\r\\n    uint256 public value2;       // slot 2\\r\\n    \\r\\n    mapping(address => uint256) public balances; // slot 3\\r\\n    \\r\\n    function setValues(uint256 _value1, uint256 _value2) external {\\r\\n        value1 = _value1;\\r\\n        value2 = _value2;\\r\\n    }\\r\\n    \\r\\n    function setBalance(address account, uint256 amount) external {\\r\\n        balances[account] = amount;\\r\\n    }\\r\\n}\\r\\n\\r\\n// EIP-1967 \\u6807\\u51c6\\u5b58\\u50a8\\u69fd\\u6f14\\u793a\\r\\ncontract EIP1967Demo {\\r\\n    // EIP-1967 \\u6807\\u51c6\\u5b58\\u50a8\\u69fd\\r\\n    bytes32 internal constant _IMPLEMENTATION_SLOT = 0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc;\\r\\n    bytes32 internal constant _ADMIN_SLOT = 0xb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103;\\r\\n    \\r\\n    // \\u5e38\\u89c4\\u5b58\\u50a8\\u53d8\\u91cf\\r\\n    uint256 public regularValue1;    // slot 0\\r\\n    uint256 public regularValue2;    // slot 1\\r\\n    address public regularAddress;   // slot 2\\r\\n    \\r\\n    function setImplementation(address newImplementation) external {\\r\\n        assembly {\\r\\n            sstore(_IMPLEMENTATION_SLOT, newImplementation)\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    function getImplementation() external view returns (address) {\\r\\n        assembly {\\r\\n            let impl := sload(_IMPLEMENTATION_SLOT)\\r\\n            mstore(0x00, impl)\\r\\n            return(0x00, 0x20)\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    function setAdmin(address newAdmin) external {\\r\\n        assembly {\\r\\n            sstore(_ADMIN_SLOT, newAdmin)\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    function getAdmin() external view returns (address) {\\r\\n        assembly {\\r\\n            let admin := sload(_ADMIN_SLOT)\\r\\n            mstore(0x00, admin)\\r\\n            return(0x00, 0x20)\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\\r\\n// \\u521d\\u59cb\\u5316\\u5668\\u6a21\\u5f0f\\u6f14\\u793a\\r\\ncontract InitializerDemo {\\r\\n    bool private initialized;\\r\\n    address public owner;\\r\\n    uint256 public value;\\r\\n    \\r\\n    modifier initializer() {\\r\\n        require(!initialized, \\\"Already initialized\\\");\\r\\n        _;\\r\\n        initialized = true;\\r\\n    }\\r\\n    \\r\\n    // \\u274c \\u9519\\u8bef\\uff1a\\u4f7f\\u7528\\u6784\\u9020\\u51fd\\u6570\\uff08\\u5728\\u4ee3\\u7406\\u6a21\\u5f0f\\u4e2d\\u4e0d\\u5de5\\u4f5c\\uff09\\r\\n    // constructor(address _owner, uint256 _value) {\\r\\n    //     owner = _owner;\\r\\n    //     value = _value;\\r\\n    // }\\r\\n    \\r\\n    // \\u2705 \\u6b63\\u786e\\uff1a\\u4f7f\\u7528\\u521d\\u59cb\\u5316\\u51fd\\u6570\\r\\n    function initialize(address _owner, uint256 _value) external initializer {\\r\\n        owner = _owner;\\r\\n        value = _value;\\r\\n    }\\r\\n    \\r\\n    function setValue(uint256 _value) external {\\r\\n        require(msg.sender == owner, \\\"Only owner\\\");\\r\\n        value = _value;\\r\\n    }\\r\\n}\",\"keccak256\":\"0xf8c3602278eb7b576253ae234ebad07238bdb4975c7ff6507a1f2ee82d5bf1b2\",\"license\":\"MIT\"}},\"version\":1}","storageLayout":{"storage":[{"astId":270,"contract":"contracts/test/CallDelegateCallTest.sol:InitializerDemo","label":"initialized","offset":0,"slot":"0","type":"t_bool"},{"astId":272,"contract":"contracts/test/CallDelegateCallTest.sol:InitializerDemo","label":"owner","offset":1,"slot":"0","type":"t_address"},{"astId":274,"contract":"contracts/test/CallDelegateCallTest.sol:InitializerDemo","label":"value","offset":0,"slot":"1","type":"t_uint256"}],"types":{"t_address":{"encoding":"inplace","label":"address","numberOfBytes":"20"},"t_bool":{"encoding":"inplace","label":"bool","numberOfBytes":"1"},"t_uint256":{"encoding":"inplace","label":"uint256","numberOfBytes":"32"}}},"userdoc":{"kind":"user","methods":{},"version":1}},"SimpleProxyDemo":{"abi":[{"inputs":[{"internalType":"address","name":"_implementation","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"stateMutability":"payable","type":"fallback"},{"stateMutability":"payable","type":"receive"}],"devdoc":{"kind":"dev","methods":{},"version":1},"evm":{"bytecode":{"functionDebugData":{},"generatedSources":[],"linkReferences":{},"object":"60a03461006857601f61010238819003918201601f19168301916001600160401b0383118484101761006d5780849260209460405283398101031261006857516001600160a01b038116810361006857608052604051607e908161008482396080518160150152f35b600080fd5b634e487b7160e01b600052604160045260246000fdfe60806040523615604657600036818037808036817f00000000000000000000000000000000000000000000000000000000000000005af43d82803e156042573d90f35b3d90fd5b00fea26469706673582212206cc5ce05f1e14835b51d0b4d62db38dd4bc28ed9019a02804ecea971e131f00164736f6c63430008160033","opcodes":"PUSH1 0xA0 CALLVALUE PUSH2 0x68 JUMPI PUSH1 0x1F PUSH2 0x102 CODESIZE DUP2 SWAP1 SUB SWAP2 DUP3 ADD PUSH1 0x1F NOT AND DUP4 ADD SWAP2 PUSH1 0x1 PUSH1 0x1 PUSH1 0x40 SHL SUB DUP4 GT DUP5 DUP5 LT OR PUSH2 0x6D JUMPI DUP1 DUP5 SWAP3 PUSH1 0x20 SWAP5 PUSH1 0x40 MSTORE DUP4 CODECOPY DUP2 ADD SUB SLT PUSH2 0x68 JUMPI MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP2 AND DUP2 SUB PUSH2 0x68 JUMPI PUSH1 0x80 MSTORE PUSH1 0x40 MLOAD PUSH1 0x7E SWAP1 DUP2 PUSH2 0x84 DUP3 CODECOPY PUSH1 0x80 MLOAD DUP2 PUSH1 0x15 ADD MSTORE RETURN JUMPDEST PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH4 0x4E487B71 PUSH1 0xE0 SHL PUSH1 0x0 MSTORE PUSH1 0x41 PUSH1 0x4 MSTORE PUSH1 0x24 PUSH1 0x0 REVERT INVALID PUSH1 0x80 PUSH1 0x40 MSTORE CALLDATASIZE ISZERO PUSH1 0x46 JUMPI PUSH1 0x0 CALLDATASIZE DUP2 DUP1 CALLDATACOPY DUP1 DUP1 CALLDATASIZE DUP2 PUSH32 0x0 GAS DELEGATECALL RETURNDATASIZE DUP3 DUP1 RETURNDATACOPY ISZERO PUSH1 0x42 JUMPI RETURNDATASIZE SWAP1 RETURN JUMPDEST RETURNDATASIZE SWAP1 REVERT JUMPDEST STOP INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 PUSH13 0xC5CE05F1E14835B51D0B4D62DB CODESIZE 0xDD 0x4B 0xC2 DUP15 0xD9 ADD SWAP11 MUL DUP1 0x4E 0xCE 0xA9 PUSH18 0xE131F00164736F6C63430008160033000000 ","sourceMap":"1871:959:0:-:0;;;;;;;;;;;;;-1:-1:-1;;1871:959:0;;;;-1:-1:-1;;;;;1871:959:0;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;1871:959:0;;;;;;2004:32;;1871:959;;;;;;;;2004:32;1871:959;;;;;;;-1:-1:-1;1871:959:0;;;;;;-1:-1:-1;1871:959:0;;;;;-1:-1:-1;1871:959:0"},"deployedBytecode":{"functionDebugData":{},"generatedSources":[],"immutableReferences":{"162":[{"length":32,"start":21}]},"linkReferences":{},"object":"60806040523615604657600036818037808036817f00000000000000000000000000000000000000000000000000000000000000005af43d82803e156042573d90f35b3d90fd5b00fea26469706673582212206cc5ce05f1e14835b51d0b4d62db38dd4bc28ed9019a02804ecea971e131f00164736f6c63430008160033","opcodes":"PUSH1 0x80 PUSH1 0x40 MSTORE CALLDATASIZE ISZERO PUSH1 0x46 JUMPI PUSH1 0x0 CALLDATASIZE DUP2 DUP1 CALLDATACOPY DUP1 DUP1 CALLDATASIZE DUP2 PUSH32 0x0 GAS DELEGATECALL RETURNDATASIZE DUP3 DUP1 RETURNDATACOPY ISZERO PUSH1 0x42 JUMPI RETURNDATASIZE SWAP1 RETURN JUMPDEST RETURNDATASIZE SWAP1 REVERT JUMPDEST STOP INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 PUSH13 0xC5CE05F1E14835B51D0B4D62DB CODESIZE 0xDD 0x4B 0xC2 DUP15 0xD9 ADD SWAP11 MUL DUP1 0x4E 0xCE 0xA9 PUSH18 0xE131F00164736F6C63430008160033000000 ","sourceMap":"1871:959:0:-:0;;;;;;;2190:589;1871:959;2190:589;;;1871:959;;;2155:14;;2190:589;;;;;;;;;;;;;;;;1871:959;"},"gasEstimates":{"creation":{"codeDepositCost":"25200","executionCost":"infinite","totalCost":"infinite"},"external":{"":"infinite"}},"methodIdentifiers":{}},"metadata":"{\"compiler\":{\"version\":\"0.8.22+commit.4fc1097e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_implementation\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"stateMutability\":\"payable\",\"type\":\"receive\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/test/CallDelegateCallTest.sol\":\"SimpleProxyDemo\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[],\"viaIR\":true},\"sources\":{\"contracts/test/CallDelegateCallTest.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity ^0.8.0;\\r\\n\\r\\n/**\\r\\n * @title Call vs DelegateCall \\u6d4b\\u8bd5\\u5408\\u7ea6\\r\\n * @dev \\u7528\\u4e8e\\u6f14\\u793a call \\u548c delegatecall \\u7684\\u533a\\u522b\\r\\n */\\r\\n\\r\\n// \\u76ee\\u6807\\u5408\\u7ea6 - \\u5305\\u542b\\u4e1a\\u52a1\\u903b\\u8f91\\r\\ncontract CallTestTarget {\\r\\n    uint256 public value;\\r\\n    address public sender;\\r\\n    address public contractAddress;\\r\\n    \\r\\n    function updateState(uint256 _value) external {\\r\\n        value = _value;\\r\\n        sender = msg.sender;\\r\\n        contractAddress = address(this);\\r\\n    }\\r\\n    \\r\\n    function reset() external {\\r\\n        value = 0;\\r\\n        sender = address(0);\\r\\n        contractAddress = address(0);\\r\\n    }\\r\\n    \\r\\n    function getCurrentState() external view returns (uint256, address, address) {\\r\\n        return (value, sender, contractAddress);\\r\\n    }\\r\\n}\\r\\n\\r\\n// \\u8c03\\u7528\\u8005\\u5408\\u7ea6 - \\u6f14\\u793a\\u4e24\\u79cd\\u8c03\\u7528\\u65b9\\u5f0f\\r\\ncontract CallTestCaller {\\r\\n    uint256 public value;\\r\\n    address public sender;\\r\\n    address public contractAddress;\\r\\n    \\r\\n    // \\u4f7f\\u7528 call \\u8c03\\u7528\\u76ee\\u6807\\u5408\\u7ea6\\r\\n    function testCall(address target, uint256 _value) external {\\r\\n        (bool success, ) = target.call(\\r\\n            abi.encodeWithSignature(\\\"updateState(uint256)\\\", _value)\\r\\n        );\\r\\n        require(success, \\\"Call failed\\\");\\r\\n    }\\r\\n    \\r\\n    // \\u4f7f\\u7528 delegatecall \\u8c03\\u7528\\u76ee\\u6807\\u5408\\u7ea6\\r\\n    function testDelegateCall(address target, uint256 _value) external {\\r\\n        (bool success, ) = target.delegatecall(\\r\\n            abi.encodeWithSignature(\\\"updateState(uint256)\\\", _value)\\r\\n        );\\r\\n        require(success, \\\"DelegateCall failed\\\");\\r\\n    }\\r\\n    \\r\\n    function reset() external {\\r\\n        value = 0;\\r\\n        sender = address(0);\\r\\n        contractAddress = address(0);\\r\\n    }\\r\\n    \\r\\n    function getCurrentState() external view returns (uint256, address, address) {\\r\\n        return (value, sender, contractAddress);\\r\\n    }\\r\\n}\\r\\n\\r\\n// \\u7b80\\u5355\\u4ee3\\u7406\\u5408\\u7ea6 - \\u6f14\\u793a\\u4ee3\\u7406\\u6a21\\u5f0f\\r\\ncontract SimpleProxyDemo {\\r\\n    address private immutable implementation;\\r\\n    \\r\\n    constructor(address _implementation) {\\r\\n        implementation = _implementation;\\r\\n    }\\r\\n    \\r\\n    // \\u6240\\u6709\\u8c03\\u7528\\u90fd\\u8f6c\\u53d1\\u5230\\u5b9e\\u73b0\\u5408\\u7ea6\\r\\n    fallback() external payable {\\r\\n        address impl = implementation;\\r\\n        \\r\\n        assembly {\\r\\n            // \\u590d\\u5236 calldata\\r\\n            calldatacopy(0, 0, calldatasize())\\r\\n            \\r\\n            // delegatecall \\u5230\\u5b9e\\u73b0\\u5408\\u7ea6\\r\\n            let result := delegatecall(gas(), impl, 0, calldatasize(), 0, 0)\\r\\n            \\r\\n            // \\u590d\\u5236\\u8fd4\\u56de\\u6570\\u636e\\r\\n            returndatacopy(0, 0, returndatasize())\\r\\n            \\r\\n            // \\u6839\\u636e\\u7ed3\\u679c\\u8fd4\\u56de\\u6216\\u56de\\u6eda\\r\\n            switch result\\r\\n            case 0 {\\r\\n                revert(0, returndatasize())\\r\\n            }\\r\\n            default {\\r\\n                return(0, returndatasize())\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    receive() external payable {}\\r\\n}\\r\\n\\r\\n// \\u5b58\\u50a8\\u51b2\\u7a81\\u6f14\\u793a\\u5408\\u7ea6\\r\\ncontract StorageConflictDemo {\\r\\n    // \\u6f14\\u793a\\u5b58\\u50a8\\u69fd\\u51b2\\u7a81\\u95ee\\u9898\\r\\n    address public owner;        // slot 0\\r\\n    uint256 public value1;       // slot 1\\r\\n    uint256 public value2;       // slot 2\\r\\n    \\r\\n    mapping(address => uint256) public balances; // slot 3\\r\\n    \\r\\n    function setValues(uint256 _value1, uint256 _value2) external {\\r\\n        value1 = _value1;\\r\\n        value2 = _value2;\\r\\n    }\\r\\n    \\r\\n    function setBalance(address account, uint256 amount) external {\\r\\n        balances[account] = amount;\\r\\n    }\\r\\n}\\r\\n\\r\\n// EIP-1967 \\u6807\\u51c6\\u5b58\\u50a8\\u69fd\\u6f14\\u793a\\r\\ncontract EIP1967Demo {\\r\\n    // EIP-1967 \\u6807\\u51c6\\u5b58\\u50a8\\u69fd\\r\\n    bytes32 internal constant _IMPLEMENTATION_SLOT = 0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc;\\r\\n    bytes32 internal constant _ADMIN_SLOT = 0xb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103;\\r\\n    \\r\\n    // \\u5e38\\u89c4\\u5b58\\u50a8\\u53d8\\u91cf\\r\\n    uint256 public regularValue1;    // slot 0\\r\\n    uint256 public regularValue2;    // slot 1\\r\\n    address public regularAddress;   // slot 2\\r\\n    \\r\\n    function setImplementation(address newImplementation) external {\\r\\n        assembly {\\r\\n            sstore(_IMPLEMENTATION_SLOT, newImplementation)\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    function getImplementation() external view returns (address) {\\r\\n        assembly {\\r\\n            let impl := sload(_IMPLEMENTATION_SLOT)\\r\\n            mstore(0x00, impl)\\r\\n            return(0x00, 0x20)\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    function setAdmin(address newAdmin) external {\\r\\n        assembly {\\r\\n            sstore(_ADMIN_SLOT, newAdmin)\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    function getAdmin() external view returns (address) {\\r\\n        assembly {\\r\\n            let admin := sload(_ADMIN_SLOT)\\r\\n            mstore(0x00, admin)\\r\\n            return(0x00, 0x20)\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\\r\\n// \\u521d\\u59cb\\u5316\\u5668\\u6a21\\u5f0f\\u6f14\\u793a\\r\\ncontract InitializerDemo {\\r\\n    bool private initialized;\\r\\n    address public owner;\\r\\n    uint256 public value;\\r\\n    \\r\\n    modifier initializer() {\\r\\n        require(!initialized, \\\"Already initialized\\\");\\r\\n        _;\\r\\n        initialized = true;\\r\\n    }\\r\\n    \\r\\n    // \\u274c \\u9519\\u8bef\\uff1a\\u4f7f\\u7528\\u6784\\u9020\\u51fd\\u6570\\uff08\\u5728\\u4ee3\\u7406\\u6a21\\u5f0f\\u4e2d\\u4e0d\\u5de5\\u4f5c\\uff09\\r\\n    // constructor(address _owner, uint256 _value) {\\r\\n    //     owner = _owner;\\r\\n    //     value = _value;\\r\\n    // }\\r\\n    \\r\\n    // \\u2705 \\u6b63\\u786e\\uff1a\\u4f7f\\u7528\\u521d\\u59cb\\u5316\\u51fd\\u6570\\r\\n    function initialize(address _owner, uint256 _value) external initializer {\\r\\n        owner = _owner;\\r\\n        value = _value;\\r\\n    }\\r\\n    \\r\\n    function setValue(uint256 _value) external {\\r\\n        require(msg.sender == owner, \\\"Only owner\\\");\\r\\n        value = _value;\\r\\n    }\\r\\n}\",\"keccak256\":\"0xf8c3602278eb7b576253ae234ebad07238bdb4975c7ff6507a1f2ee82d5bf1b2\",\"license\":\"MIT\"}},\"version\":1}","storageLayout":{"storage":[],"types":null},"userdoc":{"kind":"user","methods":{},"version":1}},"StorageConflictDemo":{"abi":[{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balances","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"setBalance","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_value1","type":"uint256"},{"internalType":"uint256","name":"_value2","type":"uint256"}],"name":"setValues","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"value1","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"value2","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}],"devdoc":{"kind":"dev","methods":{},"version":1},"evm":{"bytecode":{"functionDebugData":{},"generatedSources":[],"linkReferences":{},"object":"60808060405234610016576101a8908161001c8239f35b600080fdfe60806040818152600436101561001457600080fd5b600091823560e01c90816327e235e31461011f575080633033413b146101015780635d33a27f146100e35780638da5cb5b146100bc5780639c3dfaf61461009a5763e30443bc1461006457600080fd5b346100965780600319360112610096576001600160a01b03610084610157565b16825260036020526024359082205580f35b5080fd5b5034610096573660031901126100b95760043560015560243560025580f35b80fd5b5034610096578160031936011261009657905490516001600160a01b039091168152602090f35b50346100965781600319360112610096576020906002549051908152f35b50346100965781600319360112610096576020906001549051908152f35b91905034610153576020366003190112610153576020926001600160a01b03610146610157565b1681526003845220548152f35b8280fd5b600435906001600160a01b038216820361016d57565b600080fdfea26469706673582212204806a64077b4427872ace3f64a7749bbf3c8549a817e426d379a38464805412764736f6c63430008160033","opcodes":"PUSH1 0x80 DUP1 PUSH1 0x40 MSTORE CALLVALUE PUSH2 0x16 JUMPI PUSH2 0x1A8 SWAP1 DUP2 PUSH2 0x1C DUP3 CODECOPY RETURN JUMPDEST PUSH1 0x0 DUP1 REVERT INVALID PUSH1 0x80 PUSH1 0x40 DUP2 DUP2 MSTORE PUSH1 0x4 CALLDATASIZE LT ISZERO PUSH2 0x14 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 SWAP2 DUP3 CALLDATALOAD PUSH1 0xE0 SHR SWAP1 DUP2 PUSH4 0x27E235E3 EQ PUSH2 0x11F JUMPI POP DUP1 PUSH4 0x3033413B EQ PUSH2 0x101 JUMPI DUP1 PUSH4 0x5D33A27F EQ PUSH2 0xE3 JUMPI DUP1 PUSH4 0x8DA5CB5B EQ PUSH2 0xBC JUMPI DUP1 PUSH4 0x9C3DFAF6 EQ PUSH2 0x9A JUMPI PUSH4 0xE30443BC EQ PUSH2 0x64 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST CALLVALUE PUSH2 0x96 JUMPI DUP1 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x96 JUMPI PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB PUSH2 0x84 PUSH2 0x157 JUMP JUMPDEST AND DUP3 MSTORE PUSH1 0x3 PUSH1 0x20 MSTORE PUSH1 0x24 CALLDATALOAD SWAP1 DUP3 KECCAK256 SSTORE DUP1 RETURN JUMPDEST POP DUP1 REVERT JUMPDEST POP CALLVALUE PUSH2 0x96 JUMPI CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0xB9 JUMPI PUSH1 0x4 CALLDATALOAD PUSH1 0x1 SSTORE PUSH1 0x24 CALLDATALOAD PUSH1 0x2 SSTORE DUP1 RETURN JUMPDEST DUP1 REVERT JUMPDEST POP CALLVALUE PUSH2 0x96 JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x96 JUMPI SWAP1 SLOAD SWAP1 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 SWAP2 AND DUP2 MSTORE PUSH1 0x20 SWAP1 RETURN JUMPDEST POP CALLVALUE PUSH2 0x96 JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x96 JUMPI PUSH1 0x20 SWAP1 PUSH1 0x2 SLOAD SWAP1 MLOAD SWAP1 DUP2 MSTORE RETURN JUMPDEST POP CALLVALUE PUSH2 0x96 JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x96 JUMPI PUSH1 0x20 SWAP1 PUSH1 0x1 SLOAD SWAP1 MLOAD SWAP1 DUP2 MSTORE RETURN JUMPDEST SWAP2 SWAP1 POP CALLVALUE PUSH2 0x153 JUMPI PUSH1 0x20 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0x153 JUMPI PUSH1 0x20 SWAP3 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB PUSH2 0x146 PUSH2 0x157 JUMP JUMPDEST AND DUP2 MSTORE PUSH1 0x3 DUP5 MSTORE KECCAK256 SLOAD DUP2 MSTORE RETURN JUMPDEST DUP3 DUP1 REVERT JUMPDEST PUSH1 0x4 CALLDATALOAD SWAP1 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP3 AND DUP3 SUB PUSH2 0x16D JUMPI JUMP JUMPDEST PUSH1 0x0 DUP1 REVERT INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 BASEFEE MOD 0xA6 BLOCKHASH PUSH24 0xB4427872ACE3F64A7749BBF3C8549A817E426D379A384648 SDIV COINBASE 0x27 PUSH5 0x736F6C6343 STOP ADDMOD AND STOP CALLER ","sourceMap":"2863:522:0:-:0;;;;;;;;;;;;;;;;;"},"deployedBytecode":{"functionDebugData":{"abi_decode_address":{"entryPoint":343,"id":null,"parameterSlots":0,"returnSlots":1}},"generatedSources":[],"immutableReferences":{},"linkReferences":{},"object":"60806040818152600436101561001457600080fd5b600091823560e01c90816327e235e31461011f575080633033413b146101015780635d33a27f146100e35780638da5cb5b146100bc5780639c3dfaf61461009a5763e30443bc1461006457600080fd5b346100965780600319360112610096576001600160a01b03610084610157565b16825260036020526024359082205580f35b5080fd5b5034610096573660031901126100b95760043560015560243560025580f35b80fd5b5034610096578160031936011261009657905490516001600160a01b039091168152602090f35b50346100965781600319360112610096576020906002549051908152f35b50346100965781600319360112610096576020906001549051908152f35b91905034610153576020366003190112610153576020926001600160a01b03610146610157565b1681526003845220548152f35b8280fd5b600435906001600160a01b038216820361016d57565b600080fdfea26469706673582212204806a64077b4427872ace3f64a7749bbf3c8549a817e426d379a38464805412764736f6c63430008160033","opcodes":"PUSH1 0x80 PUSH1 0x40 DUP2 DUP2 MSTORE PUSH1 0x4 CALLDATASIZE LT ISZERO PUSH2 0x14 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 SWAP2 DUP3 CALLDATALOAD PUSH1 0xE0 SHR SWAP1 DUP2 PUSH4 0x27E235E3 EQ PUSH2 0x11F JUMPI POP DUP1 PUSH4 0x3033413B EQ PUSH2 0x101 JUMPI DUP1 PUSH4 0x5D33A27F EQ PUSH2 0xE3 JUMPI DUP1 PUSH4 0x8DA5CB5B EQ PUSH2 0xBC JUMPI DUP1 PUSH4 0x9C3DFAF6 EQ PUSH2 0x9A JUMPI PUSH4 0xE30443BC EQ PUSH2 0x64 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST CALLVALUE PUSH2 0x96 JUMPI DUP1 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x96 JUMPI PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB PUSH2 0x84 PUSH2 0x157 JUMP JUMPDEST AND DUP3 MSTORE PUSH1 0x3 PUSH1 0x20 MSTORE PUSH1 0x24 CALLDATALOAD SWAP1 DUP3 KECCAK256 SSTORE DUP1 RETURN JUMPDEST POP DUP1 REVERT JUMPDEST POP CALLVALUE PUSH2 0x96 JUMPI CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0xB9 JUMPI PUSH1 0x4 CALLDATALOAD PUSH1 0x1 SSTORE PUSH1 0x24 CALLDATALOAD PUSH1 0x2 SSTORE DUP1 RETURN JUMPDEST DUP1 REVERT JUMPDEST POP CALLVALUE PUSH2 0x96 JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x96 JUMPI SWAP1 SLOAD SWAP1 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 SWAP2 AND DUP2 MSTORE PUSH1 0x20 SWAP1 RETURN JUMPDEST POP CALLVALUE PUSH2 0x96 JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x96 JUMPI PUSH1 0x20 SWAP1 PUSH1 0x2 SLOAD SWAP1 MLOAD SWAP1 DUP2 MSTORE RETURN JUMPDEST POP CALLVALUE PUSH2 0x96 JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x96 JUMPI PUSH1 0x20 SWAP1 PUSH1 0x1 SLOAD SWAP1 MLOAD SWAP1 DUP2 MSTORE RETURN JUMPDEST SWAP2 SWAP1 POP CALLVALUE PUSH2 0x153 JUMPI PUSH1 0x20 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0x153 JUMPI PUSH1 0x20 SWAP3 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB PUSH2 0x146 PUSH2 0x157 JUMP JUMPDEST AND DUP2 MSTORE PUSH1 0x3 DUP5 MSTORE KECCAK256 SLOAD DUP2 MSTORE RETURN JUMPDEST DUP3 DUP1 REVERT JUMPDEST PUSH1 0x4 CALLDATALOAD SWAP1 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP3 AND DUP3 SUB PUSH2 0x16D JUMPI JUMP JUMPDEST PUSH1 0x0 DUP1 REVERT INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 BASEFEE MOD 0xA6 BLOCKHASH PUSH24 0xB4427872ACE3F64A7749BBF3C8549A817E426D379A384648 SDIV COINBASE 0x27 PUSH5 0x736F6C6343 STOP ADDMOD AND STOP CALLER ","sourceMap":"2863:522:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;2863:522:0;;:::i;:::-;;;;3348:8;2863:522;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;2863:522:0;;;;;;;;;;3239:16;2863:522;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;2863:522:0;;;;;;;;;;;;;;;;;;;;;;;3023:21;2863:522;;;;;;;;;;;;;;;;;;;;;;2979:21;2863:522;;;;;;;;;;;;;;;;-1:-1:-1;;2863:522:0;;;;;;-1:-1:-1;;;;;2863:522:0;;:::i;:::-;;;;3073:43;2863:522;;;;;;;;;;;;;;;-1:-1:-1;;;;;2863:522:0;;;;;;:::o;:::-;;;"},"gasEstimates":{"creation":{"codeDepositCost":"84800","executionCost":"141","totalCost":"84941"},"external":{"balances(address)":"2412","owner()":"2359","setBalance(address,uint256)":"22510","setValues(uint256,uint256)":"44448","value1()":"2294","value2()":"2316"}},"methodIdentifiers":{"balances(address)":"27e235e3","owner()":"8da5cb5b","setBalance(address,uint256)":"e30443bc","setValues(uint256,uint256)":"9c3dfaf6","value1()":"3033413b","value2()":"5d33a27f"}},"metadata":"{\"compiler\":{\"version\":\"0.8.22+commit.4fc1097e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"balances\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"setBalance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_value1\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_value2\",\"type\":\"uint256\"}],\"name\":\"setValues\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"value1\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"value2\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/test/CallDelegateCallTest.sol\":\"StorageConflictDemo\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[],\"viaIR\":true},\"sources\":{\"contracts/test/CallDelegateCallTest.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity ^0.8.0;\\r\\n\\r\\n/**\\r\\n * @title Call vs DelegateCall \\u6d4b\\u8bd5\\u5408\\u7ea6\\r\\n * @dev \\u7528\\u4e8e\\u6f14\\u793a call \\u548c delegatecall \\u7684\\u533a\\u522b\\r\\n */\\r\\n\\r\\n// \\u76ee\\u6807\\u5408\\u7ea6 - \\u5305\\u542b\\u4e1a\\u52a1\\u903b\\u8f91\\r\\ncontract CallTestTarget {\\r\\n    uint256 public value;\\r\\n    address public sender;\\r\\n    address public contractAddress;\\r\\n    \\r\\n    function updateState(uint256 _value) external {\\r\\n        value = _value;\\r\\n        sender = msg.sender;\\r\\n        contractAddress = address(this);\\r\\n    }\\r\\n    \\r\\n    function reset() external {\\r\\n        value = 0;\\r\\n        sender = address(0);\\r\\n        contractAddress = address(0);\\r\\n    }\\r\\n    \\r\\n    function getCurrentState() external view returns (uint256, address, address) {\\r\\n        return (value, sender, contractAddress);\\r\\n    }\\r\\n}\\r\\n\\r\\n// \\u8c03\\u7528\\u8005\\u5408\\u7ea6 - \\u6f14\\u793a\\u4e24\\u79cd\\u8c03\\u7528\\u65b9\\u5f0f\\r\\ncontract CallTestCaller {\\r\\n    uint256 public value;\\r\\n    address public sender;\\r\\n    address public contractAddress;\\r\\n    \\r\\n    // \\u4f7f\\u7528 call \\u8c03\\u7528\\u76ee\\u6807\\u5408\\u7ea6\\r\\n    function testCall(address target, uint256 _value) external {\\r\\n        (bool success, ) = target.call(\\r\\n            abi.encodeWithSignature(\\\"updateState(uint256)\\\", _value)\\r\\n        );\\r\\n        require(success, \\\"Call failed\\\");\\r\\n    }\\r\\n    \\r\\n    // \\u4f7f\\u7528 delegatecall \\u8c03\\u7528\\u76ee\\u6807\\u5408\\u7ea6\\r\\n    function testDelegateCall(address target, uint256 _value) external {\\r\\n        (bool success, ) = target.delegatecall(\\r\\n            abi.encodeWithSignature(\\\"updateState(uint256)\\\", _value)\\r\\n        );\\r\\n        require(success, \\\"DelegateCall failed\\\");\\r\\n    }\\r\\n    \\r\\n    function reset() external {\\r\\n        value = 0;\\r\\n        sender = address(0);\\r\\n        contractAddress = address(0);\\r\\n    }\\r\\n    \\r\\n    function getCurrentState() external view returns (uint256, address, address) {\\r\\n        return (value, sender, contractAddress);\\r\\n    }\\r\\n}\\r\\n\\r\\n// \\u7b80\\u5355\\u4ee3\\u7406\\u5408\\u7ea6 - \\u6f14\\u793a\\u4ee3\\u7406\\u6a21\\u5f0f\\r\\ncontract SimpleProxyDemo {\\r\\n    address private immutable implementation;\\r\\n    \\r\\n    constructor(address _implementation) {\\r\\n        implementation = _implementation;\\r\\n    }\\r\\n    \\r\\n    // \\u6240\\u6709\\u8c03\\u7528\\u90fd\\u8f6c\\u53d1\\u5230\\u5b9e\\u73b0\\u5408\\u7ea6\\r\\n    fallback() external payable {\\r\\n        address impl = implementation;\\r\\n        \\r\\n        assembly {\\r\\n            // \\u590d\\u5236 calldata\\r\\n            calldatacopy(0, 0, calldatasize())\\r\\n            \\r\\n            // delegatecall \\u5230\\u5b9e\\u73b0\\u5408\\u7ea6\\r\\n            let result := delegatecall(gas(), impl, 0, calldatasize(), 0, 0)\\r\\n            \\r\\n            // \\u590d\\u5236\\u8fd4\\u56de\\u6570\\u636e\\r\\n            returndatacopy(0, 0, returndatasize())\\r\\n            \\r\\n            // \\u6839\\u636e\\u7ed3\\u679c\\u8fd4\\u56de\\u6216\\u56de\\u6eda\\r\\n            switch result\\r\\n            case 0 {\\r\\n                revert(0, returndatasize())\\r\\n            }\\r\\n            default {\\r\\n                return(0, returndatasize())\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    receive() external payable {}\\r\\n}\\r\\n\\r\\n// \\u5b58\\u50a8\\u51b2\\u7a81\\u6f14\\u793a\\u5408\\u7ea6\\r\\ncontract StorageConflictDemo {\\r\\n    // \\u6f14\\u793a\\u5b58\\u50a8\\u69fd\\u51b2\\u7a81\\u95ee\\u9898\\r\\n    address public owner;        // slot 0\\r\\n    uint256 public value1;       // slot 1\\r\\n    uint256 public value2;       // slot 2\\r\\n    \\r\\n    mapping(address => uint256) public balances; // slot 3\\r\\n    \\r\\n    function setValues(uint256 _value1, uint256 _value2) external {\\r\\n        value1 = _value1;\\r\\n        value2 = _value2;\\r\\n    }\\r\\n    \\r\\n    function setBalance(address account, uint256 amount) external {\\r\\n        balances[account] = amount;\\r\\n    }\\r\\n}\\r\\n\\r\\n// EIP-1967 \\u6807\\u51c6\\u5b58\\u50a8\\u69fd\\u6f14\\u793a\\r\\ncontract EIP1967Demo {\\r\\n    // EIP-1967 \\u6807\\u51c6\\u5b58\\u50a8\\u69fd\\r\\n    bytes32 internal constant _IMPLEMENTATION_SLOT = 0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc;\\r\\n    bytes32 internal constant _ADMIN_SLOT = 0xb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103;\\r\\n    \\r\\n    // \\u5e38\\u89c4\\u5b58\\u50a8\\u53d8\\u91cf\\r\\n    uint256 public regularValue1;    // slot 0\\r\\n    uint256 public regularValue2;    // slot 1\\r\\n    address public regularAddress;   // slot 2\\r\\n    \\r\\n    function setImplementation(address newImplementation) external {\\r\\n        assembly {\\r\\n            sstore(_IMPLEMENTATION_SLOT, newImplementation)\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    function getImplementation() external view returns (address) {\\r\\n        assembly {\\r\\n            let impl := sload(_IMPLEMENTATION_SLOT)\\r\\n            mstore(0x00, impl)\\r\\n            return(0x00, 0x20)\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    function setAdmin(address newAdmin) external {\\r\\n        assembly {\\r\\n            sstore(_ADMIN_SLOT, newAdmin)\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    function getAdmin() external view returns (address) {\\r\\n        assembly {\\r\\n            let admin := sload(_ADMIN_SLOT)\\r\\n            mstore(0x00, admin)\\r\\n            return(0x00, 0x20)\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\\r\\n// \\u521d\\u59cb\\u5316\\u5668\\u6a21\\u5f0f\\u6f14\\u793a\\r\\ncontract InitializerDemo {\\r\\n    bool private initialized;\\r\\n    address public owner;\\r\\n    uint256 public value;\\r\\n    \\r\\n    modifier initializer() {\\r\\n        require(!initialized, \\\"Already initialized\\\");\\r\\n        _;\\r\\n        initialized = true;\\r\\n    }\\r\\n    \\r\\n    // \\u274c \\u9519\\u8bef\\uff1a\\u4f7f\\u7528\\u6784\\u9020\\u51fd\\u6570\\uff08\\u5728\\u4ee3\\u7406\\u6a21\\u5f0f\\u4e2d\\u4e0d\\u5de5\\u4f5c\\uff09\\r\\n    // constructor(address _owner, uint256 _value) {\\r\\n    //     owner = _owner;\\r\\n    //     value = _value;\\r\\n    // }\\r\\n    \\r\\n    // \\u2705 \\u6b63\\u786e\\uff1a\\u4f7f\\u7528\\u521d\\u59cb\\u5316\\u51fd\\u6570\\r\\n    function initialize(address _owner, uint256 _value) external initializer {\\r\\n        owner = _owner;\\r\\n        value = _value;\\r\\n    }\\r\\n    \\r\\n    function setValue(uint256 _value) external {\\r\\n        require(msg.sender == owner, \\\"Only owner\\\");\\r\\n        value = _value;\\r\\n    }\\r\\n}\",\"keccak256\":\"0xf8c3602278eb7b576253ae234ebad07238bdb4975c7ff6507a1f2ee82d5bf1b2\",\"license\":\"MIT\"}},\"version\":1}","storageLayout":{"storage":[{"astId":188,"contract":"contracts/test/CallDelegateCallTest.sol:StorageConflictDemo","label":"owner","offset":0,"slot":"0","type":"t_address"},{"astId":190,"contract":"contracts/test/CallDelegateCallTest.sol:StorageConflictDemo","label":"value1","offset":0,"slot":"1","type":"t_uint256"},{"astId":192,"contract":"contracts/test/CallDelegateCallTest.sol:StorageConflictDemo","label":"value2","offset":0,"slot":"2","type":"t_uint256"},{"astId":196,"contract":"contracts/test/CallDelegateCallTest.sol:StorageConflictDemo","label":"balances","offset":0,"slot":"3","type":"t_mapping(t_address,t_uint256)"}],"types":{"t_address":{"encoding":"inplace","label":"address","numberOfBytes":"20"},"t_mapping(t_address,t_uint256)":{"encoding":"mapping","key":"t_address","label":"mapping(address => uint256)","numberOfBytes":"32","value":"t_uint256"},"t_uint256":{"encoding":"inplace","label":"uint256","numberOfBytes":"32"}}},"userdoc":{"kind":"user","methods":{},"version":1}}}}}}